<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>BrandArc — AI Branding Suite</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ff66c4;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --accent: #d946ef;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
            --bg: #ffffff;
            --surface: #f8fafc;
            --text: #1e293b;
            --text-secondary: #64748b;
            --border: #e2e8f0;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --radius: 8px;
            --transition: all 0.3s ease;
        }

        .dark-theme {
            --primary: #818cf8;
            --primary-dark: #ff66c4;
            --secondary: #a78bfa;
            --accent: #22d3ee;
            --bg: #0f172a;
            --surface: #1e293b;
            --text: #f1f5f9;
            --text-secondary: #cbd5e1;
            --border: #334155;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.6;
            transition: var(--transition);
            min-height: 100vh;
        }

        /* Layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Navigation */
        .navbar {
            background: var(--surface);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 0;
            z-index: 100;
            padding: 15px 0;
        }

        .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-decoration: none;
        }

        .logo i {
            font-size: 28px;
        }

        .nav-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* Auth Buttons */
        .auth-buttons {
            display: flex;
            gap: 10px;
        }

        /* Buttons */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
            text-decoration: none;
            font-size: 14px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .btn-secondary {
            background: var(--surface);
            color: var(--text);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 14px;
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            padding: 0;
            justify-content: center;
            border-radius: 50%;
        }

        /* Hero */
        .hero {
            padding: 100px 0;
            text-align: center;
            position: relative;
            background: radial-gradient(1200px 600px at 10% 10%, rgba(99,102,241,0.06), transparent 10%),
                        radial-gradient(900px 500px at 90% 90%, rgba(139,92,246,0.04), transparent 10%),
                        linear-gradient(180deg, rgba(99,102,241,0.04), rgba(139,92,246,0.02));
            overflow: hidden;
            border-radius: 16px;
            margin: 20px 0 40px;
            box-shadow: 0 10px 30px rgba(15,23,42,0.04);
        }

        /* Mesmerizing animated blobs */
        .hero .blob {
            position: absolute;
            filter: blur(40px) saturate(120%);
            opacity: 0.9;
            mix-blend-mode: screen;
            transform-origin: center;
            animation: floatBlob 8s ease-in-out infinite;
            pointer-events: none;
        }

        .hero .blob.b1 { width: 420px; height: 420px; right: -120px; top: -80px; background: linear-gradient(135deg, rgba(99,102,241,0.35), rgba(139,92,246,0.25)); animation-duration: 10s; }
        .hero .blob.b2 { width: 360px; height: 360px; left: -100px; bottom: -120px; background: linear-gradient(135deg, rgba(6,182,212,0.28), rgba(139,92,246,0.18)); animation-duration: 12s; }
        .hero .blob.b3 { width: 260px; height: 260px; left: 10%; top: 10%; background: linear-gradient(135deg, rgba(16,185,129,0.18), rgba(99,102,241,0.16)); animation-duration: 9s; }

        @keyframes floatBlob {
            0% { transform: translateY(0) rotate(0deg) scale(1); }
            50% { transform: translateY(-18px) rotate(6deg) scale(1.03); }
            100% { transform: translateY(0) rotate(0deg) scale(1); }
        }

        .hero::before {
            content: '';
            position: absolute;
            width: 540px;
            height: 540px;
            right: -140px;
            top: -120px;
            background: radial-gradient(circle at 30% 30%, rgba(99,102,241,0.12), transparent 30%),
                        radial-gradient(circle at 70% 70%, rgba(139,92,246,0.09), transparent 30%);
            transform: rotate(12deg);
            filter: blur(24px);
            pointer-events: none;
        }

        .hero .hero-inner {
            position: relative;
            z-index: 3;
            padding: 10px 20px 60px;
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 420px;
            gap: 28px;
            align-items: center;
        }

        .hero h1 {
            font-family: Poppins, Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
            font-size: 3.2rem;
            margin-bottom: 12px;
            line-height: 1.02;
            background: linear-gradient(90deg, #7c3aed 0%, #d946ef 50%, #8b5cf6 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: 800;
            letter-spacing: -0.6px;
            text-shadow: 0 6px 30px rgba(99,102,241,0.06);
            animation: shimmer 3.5s linear infinite;
            background-size: 200% 100%;
        }

        @keyframes shimmer {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        .hero p {
            font-size: 1.05rem;
            color: var(--text-secondary);
            max-width: 680px;
            margin: 0 0 18px 0;
        }

        .hero-ctas {
            display: flex;
            gap: 12px;
            justify-content: flex-start;
            margin-top: 18px;
            flex-wrap: wrap;
        }

        .hero .btn-primary {
            padding: 14px 26px;
            font-size: 16px;
            border-radius: 999px;
            box-shadow: 0 14px 40px rgba(124,58,237,0.12);
            transition: transform 0.18s ease, box-shadow 0.18s ease, filter 0.18s ease;
            background-image: linear-gradient(90deg, var(--primary), var(--accent));
            border: none;
        }

        .hero .btn-primary:hover {
            transform: translateY(-6px) scale(1.02);
            filter: saturate(1.05) drop-shadow(0 10px 30px rgba(99,102,241,0.12));
        }

        .cta-glow {
            position: relative;
        }

        .cta-glow::after {
            content: '';
            position: absolute;
            inset: -6px;
            border-radius: 999px;
            background: radial-gradient(closest-side, rgba(99,102,241,0.12), transparent 40%);
            z-index: -1;
            filter: blur(18px);
            opacity: 0.9;
        }

        .hero .btn-primary:hover {
            transform: translateY(-4px);
            box-shadow: 0 18px 40px rgba(99,102,241,0.18);
        }

        .hero .btn-secondary {
            padding: 12px 18px;
            border-radius: 12px;
            font-size: 15px;
            background: transparent;
            border: 1px solid rgba(99,102,241,0.12);
            color: var(--primary);
        }

        /* subtle floating accent under headline */
        .hero .headline-accent {
            width: 120px;
            height: 6px;
            margin: 18px auto 4px;
            border-radius: 999px;
            background: linear-gradient(90deg, rgba(99,102,241,0.9), rgba(139,92,246,0.9));
            opacity: 0.9;
            animation: float 3.6s ease-in-out infinite;
        }

        @keyframes float {
            0% { transform: translateY(0); }
            50% { transform: translateY(-6px); }
            100% { transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .hero { padding: 48px 16px; border-radius: 12px; }
            .hero .hero-inner { grid-template-columns: 1fr; }
            .hero h1 { font-size: 2rem; }
            .hero p { font-size: 0.98rem; }
            .hero .blob { display:none; }
        }

        /* Glass preview card on the right */
        .hero-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.6), rgba(255,255,255,0.14));
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 20px;
            padding: 22px;
            backdrop-filter: blur(8px) saturate(120%);
            box-shadow: 0 12px 40px rgba(2,6,23,0.08);
            color: var(--text);
            text-align: left;
        }

        .hero-card .logo-spiral {
            width: 100%; height: 180px; display:flex; align-items:center; justify-content:center; border-radius:12px; overflow:hidden;
            background: linear-gradient(135deg, rgba(124,58,237,0.12), rgba(6,182,212,0.06));
        }

        .hero-card h3 { margin: 12px 0 6px; font-size: 18px; }
        .hero-card p { color: var(--text-secondary); font-size: 14px; margin:0 0 12px; }

        .logo-preview-mini { width:86px; height:86px; border-radius:18px; display:flex; align-items:center; justify-content:center; color:white; font-size:28px; margin:0 auto; }

        /* Theme circles */
        .theme-circles { display:flex; gap:10px; justify-content:center; align-items:center; margin-top:6px; }
        .theme-circle { width:46px; height:46px; border-radius:50%; border: 2px solid rgba(255,255,255,0.06); background: linear-gradient(135deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02)); display:flex; align-items:center; justify-content:center; cursor:pointer; transition: transform 0.18s ease, box-shadow 0.18s ease; }
        .theme-circle:hover { transform: translateY(-4px); box-shadow: 0 10px 30px rgba(2,6,23,0.12); }
        .theme-circle.active { box-shadow: 0 12px 30px rgba(124,58,237,0.16); transform: translateY(-6px) scale(1.03); border-color: rgba(255,255,255,0.12); }
        .theme-circle .theme-logo { width:32px; height:32px; border-radius:8px; display:flex; align-items:center; justify-content:center; color:white; font-size:14px; }

        /* Light palettes list */
        .light-palettes { display:flex; gap:12px; margin-top:6px; align-items:center; justify-content:center; }
        .light-palettes .palette { display:flex; align-items:center; gap:8px; background: rgba(255,255,255,0.03); padding:6px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.03); }
        .light-palettes .swatch { width:28px; height:28px; border-radius:6px; border:1px solid rgba(0,0,0,0.06); }
        .light-palettes .label { font-size:12px; color:var(--text-secondary); margin-left:6px; }
        .light-palettes .palette { cursor: pointer; transition: transform 0.12s ease, box-shadow 0.12s ease; }
        .light-palettes .palette:hover { transform: translateY(-4px); box-shadow: 0 8px 20px rgba(2,6,23,0.08); }
        .light-palettes .palette.active { box-shadow: 0 12px 30px rgba(99,102,241,0.10); transform: translateY(-6px); border-color: rgba(99,102,241,0.06); }

        /* Features Grid */
        .features {
            padding: 40px 0;
        }

        .section-title {
            text-align: center;
            font-size: 2rem;
            margin-bottom: 40px;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .feature-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 25px;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            background-clip: padding-box;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, transparent, transparent);
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            border-color: var(--primary);
        }

        .feature-card[data-tool="brand"] { border-top: 3px solid #fbbf24; }
        .feature-card[data-tool="brand"]::before { background: linear-gradient(135deg, rgba(251, 191, 36, 0.05), rgba(251, 191, 36, 0)); }

        .feature-card[data-tool="content"] { border-top: 3px solid #60a5fa; }
        .feature-card[data-tool="content"]::before { background: linear-gradient(135deg, rgba(96, 165, 250, 0.05), rgba(96, 165, 250, 0)); }

        .feature-card[data-tool="sentiment"] { border-top: 3px solid #34d399; }
        .feature-card[data-tool="sentiment"]::before { background: linear-gradient(135deg, rgba(52, 211, 153, 0.05), rgba(52, 211, 153, 0)); }

        .feature-card[data-tool="chat"] { border-top: 3px solid #a78bfa; }
        .feature-card[data-tool="chat"]::before { background: linear-gradient(135deg, rgba(167, 139, 250, 0.05), rgba(167, 139, 250, 0)); }

        .feature-card[data-tool="design"] { border-top: 3px solid #f87171; }
        .feature-card[data-tool="design"]::before { background: linear-gradient(135deg, rgba(248, 113, 113, 0.05), rgba(248, 113, 113, 0)); }

        .feature-card[data-tool="logo"] { border-top: 3px solid #fb923c; }
        .feature-card[data-tool="logo"]::before { background: linear-gradient(135deg, rgba(251, 147, 60, 0.05), rgba(251, 147, 60, 0)); }

        .feature-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            margin-bottom: 15px;
            position: relative;
            z-index: 1;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            font-weight: bold;
        }

        .feature-card[data-tool="brand"] .feature-icon {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            box-shadow: 0 8px 16px rgba(251, 191, 36, 0.2);
        }

        .feature-card[data-tool="content"] .feature-icon {
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            box-shadow: 0 8px 16px rgba(96, 165, 250, 0.2);
        }

        .feature-card[data-tool="sentiment"] .feature-icon {
            background: linear-gradient(135deg, #34d399, #10b981);
            box-shadow: 0 8px 16px rgba(52, 211, 153, 0.2);
        }

        .feature-card[data-tool="chat"] .feature-icon {
            background: linear-gradient(135deg, #a78bfa, #8b5cf6);
            box-shadow: 0 8px 16px rgba(167, 139, 250, 0.2);
        }

        .feature-card[data-tool="design"] .feature-icon {
            background: linear-gradient(135deg, #f87171, #ef4444);
            box-shadow: 0 8px 16px rgba(248, 113, 113, 0.2);
        }

        .feature-card[data-tool="logo"] .feature-icon {
            background: linear-gradient(135deg, #fb923c, #f97316);
            box-shadow: 0 8px 16px rgba(251, 147, 60, 0.2);
        }

        .feature-card:hover .feature-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .feature-card h3 {
            margin-bottom: 10px;
            font-size: 1.2rem;
        }

        .feature-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        /* Tool Sections */
        .tool-section {
            display: none;
            background: var(--surface);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            padding: 30px;
            margin: 30px 0;
        }

        .tool-section.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .tool-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--border);
        }

        .tool-header h2 {
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            color: var(--text);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-control {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            color: var(--text);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-control:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        /* Results */
       
        .results {
           
            background: var(--bg);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            padding: 20px;
            margin-top: 20px;
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
         
      
        }

        .result-item {
            padding: 15px;
            border-bottom: 1px solid var(--border);
            margin-bottom: 10px;
        }
        

        .result-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
        }
      

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .result-name {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .result-score {
            background: var(--success);
            color: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .result-desc {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 8px;
        }

        .result-meta {
            display: flex;
            gap: 15px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        /* Chat Interface */
        .chat-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 24px;
            height: 720px; /* increased height for bigger display area */
            align-items: stretch;
        }

        .chat-sidebar {
            background: var(--bg);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            padding: 20px;
            overflow-y: auto;
        }

        .chat-main {
            display: flex;
            flex-direction: column;
            background: var(--bg);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            overflow: hidden;
            min-height: 0; /* ensure flex children can size correctly */
        }

        .chat-messages {
            flex: 1;
            padding: 28px;
            overflow-y: auto;
            font-size: 0.98rem;
            line-height: 1.6;
        }

        .message {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
        }

        .message-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            flex-shrink: 0;
        }

        .message-content {
            flex: 1;
        }

        .message-user {
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--text);
        }

        .message-text {
            background: var(--surface);
            padding: 12px;
            border-radius: 12px;
            border-top-left-radius: 0;
            color: var(--text);
        }

        .message.ai .message-text {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            border-top-left-radius: 12px;
            border-top-right-radius: 0;
        }

        .message.user .message-text {
            background: rgba(59,130,246,0.08); /* subtle blue */
            color: var(--text);
            border-top-right-radius: 12px;
            border-top-left-radius: 0;
        }

        .chat-input {
            padding: 22px;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 12px;
            background: linear-gradient(180deg, rgba(0,0,0,0.02), transparent);
        }

        /* Time Limit Selector */
        .time-limit-selector {
            padding: 0 20px 15px 20px;
            border-top: 1px solid var(--border);
        }

        .time-limit-selector label {
            display: block;
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
            font-weight: 500;
        }

        .time-options {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .time-option {
            padding: 6px 12px;
            border: 1.5px solid var(--border);
            background: var(--surface);
            color: var(--text);
            border-radius: 8px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 4px;
            white-space: nowrap;
        }

        .time-option:hover {
            border-color: var(--primary);
            background: rgba(255, 102, 196, 0.05);
        }

        .time-option.active {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
            font-weight: bold;
        }

        /* Chat Input Container */
        .chat-input-container {
            width: 100%;
        }

        .chat-input-wrapper {
            padding: 20px;
            border-top: 1px solid var(--border);
            display: flex;
            gap: 10px;
            align-items: center;
        }

        /* Larger chat textarea */
        .chat-input-wrapper textarea {
            flex: 1;
            min-height: 64px;
            max-height: 180px;
            padding: 12px 16px;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text);
            font-size: 1rem;
            line-height: 1.3;
            resize: vertical;
        }

        .chat-input-wrapper textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 6px 18px rgba(0,0,0,0.08);
        }

        /* Voice Recorder */
        .voice-recorder {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .btn-voice {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border: none;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(255, 102, 196, 0.2);
        }

        .btn-voice:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(255, 102, 196, 0.3);
        }

        .btn-voice.recording {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            animation: voicePulse 1.5s ease-in-out infinite;
        }

        @keyframes voicePulse {
            0%, 100% { box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4); }
            50% { box-shadow: 0 4px 20px rgba(239, 68, 68, 0.7); }
        }

        /* Recording Indicator */
        .recording-indicator {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: rgba(239, 68, 68, 0.1);
            border-radius: 20px;
            border: 1px solid rgba(239, 68, 68, 0.3);
        }

        .waveform {
            display: flex;
            align-items: flex-end;
            gap: 4px;
            height: 24px;
        }

        .waveform span {
            width: 3px;
            background: linear-gradient(180deg, var(--primary), var(--accent));
            border-radius: 2px;
            animation: wave 0.6s ease-in-out infinite;
        }

        .waveform span:nth-child(1) { animation-delay: 0s; }
        .waveform span:nth-child(2) { animation-delay: 0.1s; }
        .waveform span:nth-child(3) { animation-delay: 0.2s; }
        .waveform span:nth-child(4) { animation-delay: 0.1s; }
        .waveform span:nth-child(5) { animation-delay: 0s; }

        @keyframes wave {
            0%, 100% { height: 8px; opacity: 0.5; }
            50% { height: 20px; opacity: 1; }
        }

        .recording-time {
            font-size: 0.8rem;
            color: #ef4444;
            font-weight: 600;
            min-width: 40px;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 15px;
            background: var(--bg);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            color: var(--text);
        }

        .chat-input input:focus {
            outline: none;
            border-color: var(--primary);
        }

        /* Images Gallery */
        .images-gallery {
            padding: 15px 20px;
            border-top: 1px solid var(--border);
            max-height: 250px;
            overflow-y: auto;
            background: rgba(255, 102, 196, 0.02);
        }

        .gallery-header {
            margin-bottom: 12px;
        }

        .gallery-header h4 {
            margin: 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 10px;
        }

        .gallery-item {
            position: relative;
            width: 100%;
            aspect-ratio: 1;
            border-radius: 8px;
            overflow: hidden;
            border: 1.5px solid var(--border);
            cursor: pointer;
            transition: all 0.3s ease;
            background: var(--surface);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .gallery-item:hover {
            transform: scale(1.05);
            border-color: var(--primary);
            box-shadow: 0 4px 12px rgba(255, 102, 196, 0.2);
        }

        .gallery-item svg {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-item-tooltip {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 6px;
            font-size: 0.7rem;
            text-align: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .gallery-item:hover .gallery-item-tooltip {
            opacity: 1;
        }

        /* Suggested Questions */
        .suggested-questions {
            margin-top: 20px;
        }

        .suggested-question {
            display: block;
            width: 100%;
            text-align: left;
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 10px 15px;
            margin-bottom: 10px;
            color: var(--text);
            cursor: pointer;
            transition: var(--transition);
        }

        .suggested-question:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }

        /* Auth Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(4px);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
            animation: fadeInOverlay 0.3s ease;
        }

        @keyframes fadeInOverlay {
            from { background-color: rgba(0, 0, 0, 0); }
            to { background-color: rgba(0, 0, 0, 0.7); }
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--bg);
            border-radius: var(--radius);
            padding: 40px;
            width: 100%;
            max-width: 700px;
            border: 1px solid var(--border);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
            animation: slideInUp 0.3s ease;
        }

        #samplesModal .modal-content {
            max-width: 90%;
            max-height: 90vh;
            width: auto;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.5);
        }

        @keyframes slideInUp {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        .modal-header {
            margin-bottom: 25px;
            text-align: center;
        }

        .modal-header h2 {
            font-size: 1.8rem;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .auth-tabs {
            display: flex;
            margin-bottom: 25px;
            border-bottom: 1px solid var(--border);
        }

        .auth-tab {
            flex: 1;
            padding: 12px;
            text-align: center;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .auth-tab.active {
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
        }

        .auth-form {
            display: none;
        }

        .auth-form.active {
            display: block;
        }

        /* Dashboard */
        .dashboard {
            display: none;
            padding: 40px 0;
        }

        .dashboard.active {
            display: block;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .user-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }

        .user-details h2 {
            margin-bottom: 5px;
        }

        .user-details p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 25px;
            text-align: center;
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-lg);
        }

        .stat-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
            margin: 0 auto 15px;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .recent-activity {
            background: var(--surface);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            padding: 25px;
            margin-top: 40px;
        }

        .activity-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 15px 0;
            border-bottom: 1px solid var(--border);
        }

        .activity-item:last-child {
            border-bottom: none;
        }

        .activity-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
        }

        .activity-content h4 {
            margin-bottom: 5px;
        }

        .activity-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .activity-time {
            margin-left: auto;
            color: var(--text-secondary);
            font-size: 0.8rem;
        }

        /* Loading */
        .loading {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 12px 20px;
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: var(--shadow-lg);
            z-index: 1000;
            transform: translateX(100%);
            transition: transform 0.3s ease;
        }

        .toast.show {
            transform: translateX(0);
        }

        /* Footer */
        .footer {
            background: var(--surface);
            border-top: 1px solid var(--border);
            padding: 30px 0;
            margin-top: 60px;
        }

        .footer-content {
            text-align: center;
            color: var(--text-secondary);
        }

        .footer-logo {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
        }

        /* Responsive */
        /* Watermark Styles */
        .watermark {
            position: absolute;
            top: 0;
            right: 0;
            width: 200px;
            height: 200px;
            opacity: 0.08;
            pointer-events: none;
            z-index: 1;
        }

        .tool-section {
            position: relative;
            overflow: hidden;
        }

        .tool-section > * {
            position: relative;
            z-index: 2;
        }

        /* Brand Name Generator Watermark */
        .watermark-lightbulb {
            background: radial-gradient(circle at 30% 30%, var(--primary) 0%, transparent 50%),
                        radial-gradient(circle at 70% 70%, var(--secondary) 0%, transparent 50%);
            clip-path: polygon(
                50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%
            );
        }

        /* Content Creator Watermark */
        .watermark-content {
            background: 
                linear-gradient(45deg, var(--primary) 25%, transparent 25%),
                linear-gradient(-45deg, var(--primary) 25%, transparent 25%),
                linear-gradient(45deg, transparent 75%, var(--secondary) 75%),
                linear-gradient(-45deg, transparent 75%, var(--secondary) 75%);
            background-size: 30px 30px;
            background-position: 0 0, 0 15px, 15px -15px, -15px 0px;
        }

        /* AI Branding Assistant Watermark */
        .watermark-ai {
            background: 
                radial-gradient(circle, var(--primary) 2px, transparent 2px),
                radial-gradient(circle, var(--secondary) 2px, transparent 2px);
            background-size: 40px 40px, 60px 60px;
            background-position: 0 0, 20px 20px;
            opacity: 0.12;
        }

        /* Design System Watermark */
        .watermark-design {
            background:
                linear-gradient(0deg, var(--primary) 1px, transparent 1px),
                linear-gradient(90deg, var(--secondary) 1px, transparent 1px),
                linear-gradient(45deg, var(--accent) 1px, transparent 1px);
            background-size: 40px 40px, 40px 40px, 56px 56px;
        }

        /* Sentiment Analyzer Watermark */
        .watermark-sentiment {
            background: 
                radial-gradient(circle at 20% 50%, var(--success) 0%, transparent 15%),
                radial-gradient(circle at 40% 50%, var(--warning) 0%, transparent 15%),
                radial-gradient(circle at 60% 50%, var(--primary) 0%, transparent 15%),
                radial-gradient(circle at 80% 50%, var(--secondary) 0%, transparent 15%);
            background-size: 50px 50px;
        }

        /* Logo Generator Watermark */
        .watermark-logo {
            background: 
                conic-gradient(var(--primary) 0deg 90deg, var(--secondary) 90deg 180deg, var(--accent) 180deg 270deg, var(--success) 270deg 360deg);
            clip-path: circle(50%);
            opacity: 0.1;
        }

        @supports (mask-image: url(#mask)) {
            .watermark-logo {
                mask-image: radial-gradient(circle, transparent 30%, black 70%);
                -webkit-mask-image: radial-gradient(circle, transparent 30%, black 70%);
            }
        }
    
        /* Responsive Watermark */
        @media (max-width: 768px) {
            .watermark {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <a href="#" class="logo" id="homeLink">
                    <i class="fas fa-magic"></i>
                    <span>BrandArc</span>
                </a>
                <div id="userDisplayNav" style="display: none; margin-left: 20px; padding-left: 20px; border-left: 1px solid var(--border);">
                    <span style="color: var(--text); font-weight: 600;"><i class="fas fa-user-circle" style="margin-right: 6px;"></i><span id="userDisplayName">Guest</span></span>
                </div>
                <div class="nav-controls">
                    <button class="btn btn-icon btn-secondary" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="btn btn-secondary btn-small" id="guestNavBtn" style="display: flex; align-items: center; gap: 6px;">
                        <i class="fas fa-user-clock"></i> Guest
                    </button>
                    <div class="auth-buttons" id="authButtons">
                        <button class="btn btn-secondary" id="loginBtn">
                            <i class="fas fa-sign-in-alt"></i> Login
                        </button>
                        <button class="btn btn-primary" id="signupBtn">
                            <i class="fas fa-user-plus"></i> Sign Up
                        </button>
                    </div>
                    <div class="user-menu" id="userMenu" style="display: none;">
                        <button class="btn btn-secondary" id="dashboardBtn">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </button>
                        <button class="btn btn-icon btn-secondary" id="logoutBtn">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container">
        <!-- Hero Section -->
        <section class="hero" id="hero">
                <div class="hero-inner">
                    <div>
                        <!-- Brand Logo Mark -->
                        <div style="display: flex; justify-content: center; margin-bottom: 16px;">
                            <svg width="80" height="80" viewBox="0 0 80 80" fill="none" xmlns="http://www.w3.org/2000/svg" style="filter: drop-shadow(0 8px 20px rgba(217, 70, 239, 0.2));">
                                <defs>
                                    <linearGradient id="brandGrad" x1="0" y1="0" x2="1" y2="1">
                                        <stop offset="0%" stop-color="#ff66c4" />
                                        <stop offset="100%" stop-color="#d946ef" />
                                    </linearGradient>
                                </defs>
                                <circle cx="40" cy="40" r="38" fill="url(#brandGrad)" opacity="0.12" />
                                <circle cx="40" cy="40" r="32" fill="none" stroke="url(#brandGrad)" stroke-width="2" opacity="0.3" />
                                <g transform="translate(40, 40)">
                                    <path d="M-8 -16 Q-12 -8 -12 0 Q-12 12 0 16 Q12 12 12 0 Q12 -8 8 -16" fill="url(#brandGrad)" />
                                    <circle cx="0" cy="0" r="6" fill="#ffffff" opacity="0.8" />
                                </g>
                            </svg>
                        </div>
                        <h1>Design. Name. Launch — Faster.</h1>
                        <div class="headline-accent" aria-hidden="true"></div>
                        <p>Create stunning brand identities in minutes using BrandArc’s AI-driven toolkit — names, logos, content and design systems in one flow.</p>

                        <div class="hero-ctas">
                            <button class="btn btn-primary cta-glow" id="startBtn">
                                <i class="fas fa-rocket"></i> Launch Project
                            </button>
                            <button class="btn btn-secondary" id="demoBtn">
                                <i class="fas fa-play"></i> Live Demo
                            </button>
                        </div>

                        <div style="display:flex; gap:10px; margin-top:18px; align-items:center;">
                            <div style="display:flex; gap:8px; align-items:center;">
                                <div style="width:10px; height:10px; border-radius:50%; background:var(--primary);"></div>
                                <div style="font-size:13px; color:var(--text-secondary);">AI models tuned for brand voice</div>
                            </div>
                            <div style="display:flex; gap:8px; align-items:center; margin-left:12px;">
                                <div style="width:10px; height:10px; border-radius:50%; background:var(--accent);"></div>
                                <div style="font-size:13px; color:var(--text-secondary);">Fast SVG & PNG exports</div>
                            </div>
                        </div>
                    </div>

                    <div class="hero-card" aria-hidden="false">
                        <div class="logo-spiral">
                            <div class="logo-preview-mini" style="background: linear-gradient(135deg, var(--primary), var(--secondary));">
                                <i class="fas fa-fire"></i>
                            </div>
                        </div>
                            <div style="margin-top:12px; display:flex; align-items:center; justify-content:center;">
                                <!-- Beautiful AI Design workspace illustration -->
                                <svg width="240" height="140" viewBox="0 0 240 140" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="filter: drop-shadow(0 12px 30px rgba(217, 70, 239, 0.15));">
                                    <defs>
                                        <linearGradient id="workspaceGrad" x1="0" y1="0" x2="1" y2="1">
                                            <stop offset="0%" stop-color="#7c3aed" />
                                            <stop offset="50%" stop-color="#d946ef" />
                                            <stop offset="100%" stop-color="#ff66c4" />
                                        </linearGradient>
                                        <linearGradient id="tooltipGrad" x1="0" y1="0" x2="1" y2="0">
                                            <stop offset="0%" stop-color="#ff1e56" />
                                            <stop offset="100%" stop-color="#d946ef" />
                                        </linearGradient>
                                        <filter id="glow">
                                            <feGaussianBlur stdDeviation="2" result="coloredBlur"/>
                                            <feMerge>
                                                <feMergeNode in="coloredBlur"/>
                                                <feMergeNode in="SourceGraphic"/>
                                            </feMerge>
                                        </filter>
                                    </defs>
                                    
                                    <!-- Screen/Monitor Frame -->
                                    <rect x="12" y="14" width="216" height="110" rx="8" fill="rgba(255,255,255,0.03)" stroke="url(#workspaceGrad)" stroke-width="1.5" opacity="0.6"/>
                                    
                                    <!-- Monitor Bezels -->
                                    <rect x="14" y="16" width="212" height="106" rx="6" fill="rgba(255,102,196,0.08)"/>
                                    
                                    <!-- Design Canvas -->
                                    <rect x="20" y="22" width="135" height="92" rx="4" fill="rgba(124,58,237,0.06)" stroke="rgba(217,70,239,0.2)" stroke-width="1"/>
                                    
                                    <!-- Grid pattern -->
                                    <line x1="27" y1="22" x2="27" y2="114" stroke="rgba(255,255,255,0.08)" stroke-width="0.8"/>
                                    <line x1="34" y1="22" x2="34" y2="114" stroke="rgba(255,255,255,0.08)" stroke-width="0.8"/>
                                    <line x1="41" y1="22" x2="41" y2="114" stroke="rgba(255,255,255,0.08)" stroke-width="0.8"/>
                                    <line x1="48" y1="22" x2="48" y2="114" stroke="rgba(255,255,255,0.08)" stroke-width="0.8"/>
                                    <line x1="20" y1="35" x2="155" y2="35" stroke="rgba(255,255,255,0.08)" stroke-width="0.8"/>
                                    <line x1="20" y1="48" x2="155" y2="48" stroke="rgba(255,255,255,0.08)" stroke-width="0.8"/>
                                    <line x1="20" y1="61" x2="155" y2="61" stroke="rgba(255,255,255,0.08)" stroke-width="0.8"/>
                                    
                                    <!-- Design Elements on Canvas -->
                                    <circle cx="65" cy="50" r="14" fill="none" stroke="url(#workspaceGrad)" stroke-width="2" filter="url(#glow)"/>
                                    <rect x="95" y="38" width="20" height="24" rx="2" fill="url(#workspaceGrad)" opacity="0.6"/>
                                    <path d="M40 75 Q50 70 60 75 Q70 80 80 75 Q90 70 100 75" stroke="url(#tooltipGrad)" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                                    <circle cx="110" cy="58" r="6" fill="#ff66c4" opacity="0.7"/>
                                    <circle cx="125" cy="68" r="5" fill="#ff1e56" opacity="0.6"/>
                                    
                                    <!-- Toolbar on right -->
                                    <rect x="160" y="22" width="48" height="92" rx="4" fill="rgba(217,70,239,0.05)" stroke="rgba(217,70,239,0.15)" stroke-width="1"/>
                                    
                                    <!-- Tool Icons -->
                                    <circle cx="177" cy="32" r="4" fill="#ff66c4"/>
                                    <rect x="171" y="44" width="12" height="12" rx="2" fill="url(#workspaceGrad)"/>
                                    <circle cx="177" cy="64" r="3.5" fill="#ff1e56" opacity="0.8"/>
                                    <path d="M170 78 L184 78 L177 88 Z" fill="#d946ef" opacity="0.7"/>
                                    <circle cx="177" cy="102" r="4" fill="#7c3aed" opacity="0.6"/>
                                    
                                    <!-- Floating AI sparkles -->
                                    <g filter="url(#glow)">
                                        <circle cx="195" cy="28" r="1.5" fill="#ff66c4" opacity="0.8"/>
                                        <circle cx="205" cy="35" r="1.2" fill="#d946ef" opacity="0.6"/>
                                        <circle cx="200" cy="48" r="1.5" fill="#ff1e56" opacity="0.7"/>
                                    </g>
                                    
                                    <!-- Text indicators -->
                                    <text x="165" y="57" font-size="2" fill="#999" opacity="0.4">AI</text>
                                    <text x="163" y="72" font-size="1.8" fill="#999" opacity="0.3">RENDER</text>
                                </svg>
                            </div>
                        <h3>Instant Logo Concepts</h3>
                        <p>Preview multiple logo variations and download in SVG or PNG with a single click.</p>
                        <div style="display:flex; gap:8px; justify-content:center; margin-top:12px;">
                            <button class="btn btn-secondary btn-small" id="seeSamplesBtn"><i class="fas fa-images"></i> See Samples</button>
                            <button class="btn btn-primary btn-small" id="tryLogoMakerBtn"><i class="fas fa-paint-brush"></i> Try Logo Maker</button>
                        </div>
                        <!-- Sample Gallery Preview -->
                        <div style="display:grid; grid-template-columns:repeat(4, 1fr); gap:8px; margin-top:16px; padding:12px; background:rgba(255,102,196,0.05); border-radius:12px;">
                            <div class="logo-sample" style="aspect-ratio:1; border-radius:8px; background:linear-gradient(135deg, #7c3aed, #d946ef); display:flex; align-items:center; justify-content:center; cursor:pointer; transition:all 0.3s ease;" title="Aurora Logo"><i class="fas fa-fire" style="color:white; font-size:28px;"></i></div>
                            <div class="logo-sample" style="aspect-ratio:1; border-radius:8px; background:linear-gradient(135deg, #ff1e56, #ff66c4); display:flex; align-items:center; justify-content:center; cursor:pointer; transition:all 0.3s ease;" title="Midnight Logo"><i class="fas fa-moon" style="color:white; font-size:28px;"></i></div>
                            <div class="logo-sample" style="aspect-ratio:1; border-radius:8px; background:linear-gradient(135deg, #fb923c, #ef4444); display:flex; align-items:center; justify-content:center; cursor:pointer; transition:all 0.3s ease;" title="Ember Logo"><i class="fas fa-bolt" style="color:white; font-size:28px;"></i></div>
                            <div class="logo-sample" style="aspect-ratio:1; border-radius:8px; background:linear-gradient(135deg, #10b981, #34d399); display:flex; align-items:center; justify-content:center; cursor:pointer; transition:all 0.3s ease;" title="Mint Logo"><i class="fas fa-leaf" style="color:white; font-size:28px;"></i></div>
                        </div>
                        <div style="margin-top:14px;">
                            <h4 style="font-size:13px; margin-bottom:8px;">Pick a theme</h4>
                            <div class="theme-circles" id="themeCircles">
                                <button class="theme-circle" data-theme="Aurora" title="Aurora" style="background: linear-gradient(135deg, #7c3aed, #d946ef);">
                                    <div class="theme-logo"><i class="fas fa-fire"></i></div>
                                </button>
                                <button class="theme-circle" data-theme="Midnight" title="Midnight" style="background: linear-gradient(135deg, #ff1e56, #ff66c4);">
                                    <div class="theme-logo"><i class="fas fa-moon"></i></div>
                                </button>
                                <button class="theme-circle" data-theme="Ember" title="Ember" style="background: linear-gradient(135deg, #fb923c, #ef4444);">
                                    <div class="theme-logo"><i class="fas fa-bolt"></i></div>
                                </button>
                                <button class="theme-circle" data-theme="Ocean" title="Ocean" style="background: linear-gradient(135deg, #d946ef, #ff1e56);">
                                    <div class="theme-logo"><i class="fas fa-water"></i></div>
                                </button>
                                <button class="theme-circle" data-theme="Mint" title="Mint" style="background: linear-gradient(135deg, #10b981, #d946ef);">
                                    <div class="theme-logo"><i class="fas fa-leaf"></i></div>
                                </button>
                                <button class="theme-circle" data-theme="White" title="White" style="background: linear-gradient(180deg, #ffffff, #f8fafc); border:1px solid #e6eaf0;">
                                    <div class="theme-logo" style="background:#ffffff; color:#0f172a; border:1px solid #e2e8f0; width:28px; height:28px; font-size:12px; border-radius:6px; display:flex; align-items:center; justify-content:center;"><i class="fas fa-sun"></i></div>
                                </button>
                                <button class="theme-circle" data-theme="Black" title="Black" style="background: linear-gradient(135deg, #0b1220, #111827);">
                                    <div class="theme-logo" style="width:28px; height:28px; border-radius:6px; display:flex; align-items:center; justify-content:center; font-size:12px; color:white;"><i class="fas fa-circle-notch"></i></div>
                                </button>
                            </div>
                        </div>
                        <div style="margin-top:12px;">
                            <h4 style="font-size:13px; margin-bottom:8px;">Light color palettes</h4>
                            <div class="light-palettes">
                                <div class="palette">
                                    <div class="swatch" style="background:#fff"></div>
                                    <div class="swatch" style="background:#f8fafc"></div>
                                    <div class="swatch" style="background:#eef2ff"></div>
                                    <div class="label">Soft Pastel</div>
                                </div>
                                <div class="palette">
                                    <div class="swatch" style="background:#fff7ed"></div>
                                    <div class="swatch" style="background:#ffedd5"></div>
                                    <div class="swatch" style="background:#fee2e2"></div>
                                    <div class="label">Warm Hues</div>
                                </div>
                                <div class="palette">
                                    <div class="swatch" style="background:#f0f9ff"></div>
                                    <div class="swatch" style="background:#ecfeff"></div>
                                    <div class="swatch" style="background:#f0fdf4"></div>
                                    <div class="label">Aqua Mint</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="blob b1"></div>
                    <div class="blob b2"></div>
                    <div class="blob b3"></div>
                </div>
        </section>

        <!-- Features Grid -->
        <section class="features" id="features">
            <h2 class="section-title">Complete Branding Toolkit</h2>
            <div class="features-grid">
                <div class="feature-card" data-tool="brand">
                    <div class="feature-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h3>Brand Name Generator</h3>
                    <p>Generate unique, memorable brand names with AI creativity</p>
                    <button class="btn btn-secondary btn-small" data-tool="brand">
                        Try Now <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <div class="feature-card" data-tool="content">
                    <div class="feature-icon">
                        <i class="fas fa-pen-nib"></i>
                    </div>
                    <h3>Content Creator</h3>
                    <p>Generate marketing content, descriptions, and social media posts</p>
                    <button class="btn btn-secondary btn-small" data-tool="content">
                        Try Now <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <div class="feature-card" data-tool="sentiment">
                    <div class="feature-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <h3>Sentiment Analyzer</h3>
                    <p>Analyze brand sentiment and optimize messaging</p>
                    <button class="btn btn-secondary btn-small" data-tool="sentiment">
                        Try Now <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <div class="feature-card" data-tool="chat">
                    <div class="feature-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>AI Branding Assistant</h3>
                    <p>Get expert branding advice powered by IBM Granite AI</p>
                    <button class="btn btn-secondary btn-small" data-tool="chat">
                        Try Now <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <div class="feature-card" data-tool="design">
                    <div class="feature-icon">
                        <i class="fas fa-palette"></i>
                    </div>
                    <h3>Design System</h3>
                    <p>Get AI-generated color palettes and visual identity</p>
                    <button class="btn btn-secondary btn-small" data-tool="design">
                        Try Now <i class="fas fa-arrow-right"></i>
                    </button>
                </div>

                <div class="feature-card" data-tool="logo">
                    <div class="feature-icon">
                        <i class="fas fa-paint-brush"></i>
                    </div>
                    <h3>Logo Generator</h3>
                    <p>Create stunning logo concepts with AI design</p>
                    <button class="btn btn-secondary btn-small" data-tool="logo">
                        Try Now <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- Tool Sections -->
        
        <!-- Brand Name Generator -->
        <div class="tool-section" id="brand-tool">
            <div class="watermark watermark-lightbulb"></div>
            <div class="tool-header">
                <button class="btn btn-secondary btn-small" id="backBtn">
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <h2><i class="fas fa-lightbulb"></i> Brand Name Generator</h2>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label><i class="fas fa-industry"></i> Industry</label>
                    <select class="form-control" id="industry">
                        <option value="">Select Industry</option>
                        <option value="Technology">Technology</option>
                        <option value="SaaS">SaaS / Software</option>
                        <option value="Healthcare">Healthcare</option>
                        <option value="Food & Beverage">Food & Beverage</option>
                        <option value="Finance">Finance</option>
                        <option value="Education">Education</option>
                        <option value="Retail">Retail</option>
                        <option value="Fashion">Fashion</option>
                        <option value="Travel">Travel & Hospitality</option>
                        <option value="Real Estate">Real Estate</option>
                        <option value="Automotive">Automotive</option>
                        <option value="Energy">Energy</option>
                        <option value="Beauty">Beauty & Personal Care</option>
                        <option value="Media">Media & Entertainment</option>
                        <option value="Gaming">Gaming</option>
                        <option value="Legal">Legal & Compliance</option>
                        <option value="Logistics">Logistics & Supply</option>
                        <option value="Home">Home & Living</option>
                        <option value="Pets">Pets & Animal Care</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-key"></i> Keywords</label>
                    <input type="text" class="form-control" id="keywords" 
                           placeholder="e.g., smart, innovative, future">
                </div>
                
                <div class="form-group">
                    <label><i class="fas fa-volume-up"></i> Brand Tone</label>
                    <select class="form-control" id="tone">
                        <option value="Professional">Professional</option>
                        <option value="Modern">Modern</option>
                        <option value="Luxury">Luxury</option>
                        <option value="Playful">Playful</option>
                        <option value="Minimal">Minimal</option>
                        <option value="Bold">Bold</option>
                        <option value="Friendly">Friendly</option>
                        <option value="Trustworthy">Trustworthy</option>
                        <option value="Quirky">Quirky</option>
                        <option value="Elegant">Elegant</option>
                        <option value="Edgy">Edgy</option>
                        <option value="Eco">Eco / Sustainable</option>
                    </select>
                </div>
            </div>
            
            <button class="btn btn-primary" id="generateNamesBtn" style="width: 100%; padding: 15px;">
                <i class="fas fa-magic"></i> Generate Brand Names
            </button>
            
            <div class="results" id="brandResults">
                <div class="result-item">
                    <div class="result-header">
                        <div class="result-name">NexusAI</div>
                        <div class="result-score">92%</div>
                    </div>
                    <div class="result-desc">Intelligent solutions for the connected future</div>
                    <div class="result-meta">
                        <span><i class="fas fa-globe"></i> nexusai.com</span>
                        <span><i class="fas fa-palette"></i> Modern</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Content Generator -->
        <div class="tool-section" id="content-tool">
            <div class="watermark watermark-content"></div>
            <div class="tool-header">
                <button class="btn btn-secondary btn-small" data-back>
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <h2><i class="fas fa-pen-nib"></i> Content Creator</h2>
            </div>
            
            <div class="form-group">
                <label>Brand Description</label>
                <textarea class="form-control" id="brandDesc" rows="3" style="height:120px; width:820px; max-width:95%; resize: horizontal;" 
                          placeholder="Describe your brand, product, or service..."></textarea>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>Content Type</label>
                    <select class="form-control" id="contentType">
                        <option value="product">Product Description</option>
                        <option value="social">Social Media Post</option>
                        <option value="email">Email Campaign</option>
                        <option value="ad">Ad Copy</option>
                        <option value="article">Article / Blog Post</option>
                        <option value="landing">Landing Page</option>
                        <option value="tagline">Tagline / Slogan</option>
                        <option value="press">Press Release</option>
                        <option value="faq">FAQ Entries</option>
                        <option value="case">Case Study</option>
                        <option value="newsletter">Newsletter</option>
                        <option value="video">Video Script</option>
                        <option value="infographic">Infographic Copy</option>
                        <option value="podcast">Podcast Outline</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Tone</label>
                    <select class="form-control" id="contentTone">
                        <option value="professional">Professional</option>
                        <option value="friendly">Friendly</option>
                        <option value="persuasive">Persuasive</option>
                        <option value="witty">Witty</option>
                        <option value="inspirational">Inspirational</option>
                        <option value="technical">Technical</option>
                        <option value="casual">Casual</option>
                        <option value="authoritative">Authoritative</option>
                        <option value="playful">Playful</option>
                        <option value="empathetic">Empathetic</option>
                    </select>
                </div>
            </div>
            
            <button class="btn btn-primary" id="generateContentBtn" style="width: 100%; padding: 15px;">
                <i class="fas fa-wand-magic-sparkles"></i> Generate Content
            </button>
            
            <div class="results" id="contentResults">
                <p style="text-align: center; color: var(--text-secondary); padding: 40px;">
                    Your AI-generated content will appear here...
                </p>
            </div>
        </div>

        <!-- Sentiment Analyzer -->
        <div class="tool-section" id="sentiment-tool">
            <div class="watermark watermark-sentiment"></div>
            <div class="tool-header">
                <button class="btn btn-secondary btn-small" data-back>
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <h2><i class="fas fa-chart-line"></i> Sentiment Analyzer</h2>
            </div>
            
            <div class="form-group">
                <label>Text to Analyze</label>
                <textarea class="form-control" id="sentimentText" rows="3" style="height:120px; width:820px; max-width:95%; resize: horizontal;" 
                          placeholder="Paste customer reviews, feedback, or brand messaging..."></textarea>
            </div>
            
            <div class="form-group">
                <label>Brand Tone</label>
                <select class="form-control" id="sentimentTone">
                    <option value="professional">Professional</option>
                    <option value="friendly">Friendly</option>
                    <option value="luxury">Luxury</option>
                    <option value="playful">Playful</option>
                    <option value="persuasive">Persuasive</option>
                    <option value="witty">Witty</option>
                    <option value="inspirational">Inspirational</option>
                    <option value="technical">Technical</option>
                    <option value="casual">Casual</option>
                    <option value="authoritative">Authoritative</option>
                    <option value="playful">Playful</option>
                    <option value="empathetic">Empathetic</option>
                    <option value="bold">Bold</option>
                    <option value="trustworthy">Trustworthy</option>
                    <option value="quirky">Quirky</option>
                    <option value="elegant">Elegant</option>
                    <option value="edgy">Edgy</option>
                    <option value="eco">Eco / Sustainable</option>
                </select>
            </div>
            
            <button class="btn btn-primary" id="analyzeBtn" style="width: 100%; padding: 15px;">
                <i class="fas fa-chart-bar"></i> Analyze Sentiment
            </button>
            
            <div class="results" id="sentimentResults">
                <div style="text-align: center; padding: 40px;">
                    <div style="font-size: 48px; color: var(--success); margin-bottom: 10px;">
                        <i class="fas fa-smile"></i>
                    </div>
                    <h3>Sentiment Analysis</h3>
                    <p>Your analysis results will appear here...</p>
                </div>
            </div>
        </div>

        <!-- AI Chat Assistant -->
        <div class="tool-section" id="chat-tool">
            <div class="watermark watermark-ai"></div>
            <div class="tool-header">
                <button class="btn btn-secondary btn-small" data-back>
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <h2><i class="fas fa-robot"></i> AI Branding Assistant</h2>
            </div>
            
            <div class="chat-container">
                <div class="chat-sidebar">
                    <h4>Suggested Questions:</h4>
                    <div class="suggested-questions">
                        <button class="suggested-question" data-question="How to choose a brand name?">
                            How to choose a brand name?
                        </button>
                        <button class="suggested-question" data-question="What makes a good logo design?">
                            What makes a good logo design?
                        </button>
                        <button class="suggested-question" data-question="Tips for brand color selection">
                            Tips for brand color selection
                        </button>
                        <button class="suggested-question" data-question="How to create a brand strategy?">
                            How to create a brand strategy?
                        </button>
                    </div>
                    <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--border);">
                        <small style="color: var(--text-secondary);">
                            <i class="fas fa-brain"></i> Powered by IBM Granite AI
                        </small>
                    </div>
                </div>
                
                <div class="chat-main">
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai">
                            <div class="message-avatar">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div class="message-content">
                                <div class="message-user">BrandArc AI</div>
                                <div class="message-text">
                                    Hello! I'm your AI branding expert. I can help you with brand naming, logo design, content creation, and brand strategy. What would you like to know about branding?
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Images Gallery Section -->
                    <div class="images-gallery" id="imagesGallery">
                        <div class="gallery-header">
                            <h4><i class="fas fa-images"></i> Visual Inspiration Gallery</h4>
                        </div>
                        <div class="gallery-grid" id="galleryGrid">
                            <!-- Images will be dynamically added here -->
                        </div>
                    </div>
                    
                    <div class="chat-input-container">
                        <!-- Time Limit Selector -->
                        <div class="time-limit-selector">
                            <label>Response Time:</label>
                            <div class="time-options">
                                <button class="time-option" data-time="urgent" title="30 seconds">
                                    <i class="fas fa-bolt"></i> Urgent
                                </button>
                                <button class="time-option" data-time="fast" title="1 minute">
                                    <i class="fas fa-zap"></i> Fast
                                </button>
                                <button class="time-option active" data-time="normal" title="2 minutes">
                                    <i class="fas fa-hourglass-end"></i> Normal
                                </button>
                                <button class="time-option" data-time="detailed" title="3 minutes">
                                    <i class="fas fa-book"></i> Detailed
                                </button>
                                <button class="time-option" data-time="comprehensive" title="5 minutes">
                                    <i class="fas fa-graduation-cap"></i> Comprehensive
                                </button>
                                <button class="time-option" data-time="expert" title="10 minutes">
                                    <i class="fas fa-star"></i> Expert
                                </button>
                            </div>
                        </div>

                        <!-- Voice Recorder & Text Input -->
                        <div class="chat-input-wrapper">
                            <div class="voice-recorder">
                                <button class="btn-voice" id="voiceRecordBtn" title="Record your question">
                                    <i class="fas fa-microphone"></i>
                                </button>
                                <div class="recording-indicator" id="recordingIndicator" style="display: none;">
                                    <div class="waveform">
                                        <span></span><span></span><span></span><span></span><span></span>
                                    </div>
                                    <span class="recording-time" id="recordingTime">0:00</span>
                                </div>
                            </div>
                            
                            <textarea id="chatInput" rows="3" placeholder="Ask me anything about branding or use voice... (press Ctrl/Cmd+Enter to send)" aria-label="Ask me anything"></textarea>
                            
                            <button class="btn btn-primary" id="sendMessageBtn" title="Send message" aria-label="Send message">
                                <i class="fas fa-paper-plane"></i>
                                <span style="margin-left:8px;">Send</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Design System -->
        <div class="tool-section" id="design-tool">
            <div class="watermark watermark-design"></div>
            <div class="tool-header">
                <button class="btn btn-secondary btn-small" data-back>
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <h2><i class="fas fa-palette"></i> Design System Generator</h2>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>Industry</label>
                    <select class="form-control" id="designIndustry">
                        <option value="technology">Technology</option>
                        <option value="saas">SaaS / Software</option>
                        <option value="finance">Finance</option>
                        <option value="fashion">Fashion</option>
                        <option value="food">Food & Beverage</option>
                        <option value="health">Health & Wellness</option>
                        <option value="retail">Retail</option>
                        <option value="travel">Travel & Hospitality</option>
                        <option value="realestate">Real Estate</option>
                        <option value="automotive">Automotive</option>
                        <option value="energy">Energy</option>
                        <option value="beauty">Beauty & Personal Care</option>
                        <option value="media">Media & Entertainment</option>
                        <option value="gaming">Gaming</option>
                        <option value="legal">Legal & Compliance</option>
                        <option value="logistics">Logistics & Supply</option>
                        <option value="home">Home & Living</option>
                        <option value="pets">Pets & Animal Care</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Style</label>
                    <select class="form-control" id="designStyle">
                        <option value="modern">Modern</option>
                        <option value="minimal">Minimal</option>
                        <option value="bold">Bold</option>
                        <option value="elegant">Elegant</option>
                        <option value="playful">Playful</option>
                        <option value="vintage">Vintage</option>
                        <option value="corporate">Corporate</option>
                        <option value="luxury">Luxury</option>
                        <option value="tech">Tech</option>
                        <option value="organic">Organic</option>
                        <option value="vibrant">Vibrant</option>
                        <option value="muted">Muted</option>
                        <option value="monochrome">Monochrome</option>
                        <option value="pastel">Pastel</option>
                        <option value="edgy">Edgy</option>
                        <option value="futuristic">Futuristic</option>
                        <option value="handcrafted">Handcrafted</option>
                    </select>
                </div>
            </div>
            
            <button class="btn btn-primary" id="generateDesignBtn" style="width: 100%; padding: 15px;">
                <i class="fas fa-paint-brush"></i> Generate Design System
            </button>
            
            <div class="results" id="designResults">
                <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; padding: 20px;">
                    <div style="background: #ff66c4; height: 60px; border-radius: var(--radius);"></div>
                    <div style="background: #8b5cf6; height: 60px; border-radius: var(--radius);"></div>
                    <div style="background: #d946ef; height: 60px; border-radius: var(--radius);"></div>
                    <div style="background: #10b981; height: 60px; border-radius: var(--radius);"></div>
                    <div style="background: #f59e0b; height: 60px; border-radius: var(--radius);"></div>
                </div>
                <p style="text-align: center; color: var(--text-secondary);">
                    Your AI-generated color palette and design system...
                </p>
            </div>
        </div>

        <!-- Logo Generator -->
        <div class="tool-section" id="logo-tool">
            <div class="watermark watermark-logo"></div>
            <div class="tool-header">
                <button class="btn btn-secondary btn-small" data-back>
                    <i class="fas fa-arrow-left"></i> Back
                </button>
                <h2><i class="fas fa-paint-brush"></i> Logo Generator</h2>
            </div>
            
            <!-- Selected Design Indicator -->
            <div id="selectedDesignBadge" style="display: none; margin-bottom: 20px; padding: 12px 16px; background: linear-gradient(135deg, rgba(217, 70, 239, 0.15), rgba(255, 30, 86, 0.15)); border: 1px solid rgba(217, 70, 239, 0.3); border-radius: 8px;">
                <i class="fas fa-check-circle" style="color: var(--primary); margin-right: 8px;"></i>
                <span id="selectedDesignText" style="color: var(--text);"></span>
                <button onclick="document.getElementById('selectedDesignBadge').style.display='none';" style="float: right; background: none; border: none; color: var(--text-secondary); cursor: pointer; font-size: 16px; line-height: 1;">&times;</button>
            </div>
            
            <div class="form-row">
                    <div class="form-group">
                        <label>Brand Name</label>
                        <input type="text" class="form-control" id="logoName" placeholder="Enter brand name">
                    </div>
                
                    <div class="form-group">
                        <label>Industry</label>
                        <select class="form-control" id="logoIndustry">
                            <option value="tech">Technology</option>
                            <option value="saas">SaaS / Software</option>
                            <option value="finance">Finance</option>
                            <option value="fashion">Fashion</option>
                            <option value="food">Food & Beverage</option>
                            <option value="health">Health & Wellness</option>
                            <option value="education">Education</option>
                            <option value="retail">Retail</option>
                            <option value="travel">Travel & Hospitality</option>
                            <option value="realestate">Real Estate</option>
                            <option value="automotive">Automotive</option>
                            <option value="energy">Energy</option>
                            <option value="beauty">Beauty & Personal Care</option>
                            <option value="media">Media & Entertainment</option>
                            <option value="gaming">Gaming</option>
                            <option value="legal">Legal & Compliance</option>
                            <option value="logistics">Logistics & Supply</option>
                            <option value="home">Home & Living</option>
                            <option value="pets">Pets & Animal Care</option>
                        </select>
                    </div>
                </div>
            
                <div class="form-row">
                    <div class="form-group">
                        <label>Logo Style</label>
                        <select class="form-control" id="logoStyle">
                            <option value="modern">Modern & Clean</option>
                            <option value="vintage">Vintage</option>
                            <option value="minimal">Minimal</option>
                            <option value="playful">Playful</option>
                            <option value="bold">Bold</option>
                            <option value="luxury">Luxury</option>
                            <option value="monogram">Monogram</option>
                            <option value="wordmark">Wordmark</option>
                            <option value="lettermark">Lettermark</option>
                            <option value="emblem">Emblem</option>
                            <option value="abstract">Abstract</option>
                            <option value="geometric">Geometric</option>
                            <option value="organic">Organic</option>
                            <option value="futuristic">Futuristic</option>
                            <option value="handcrafted">Handcrafted</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>Shape</label>
                        <select class="form-control" id="logoShape">
                            <option value="circle">⭕ Circle</option>
                            <option value="rounded">🔲 Rounded Square</option>
                            <option value="square">▢ Square</option>
                            <option value="diamond">◆ Diamond</option>
                            <option value="hexagon">⬡ Hexagon</option>
                            <option value="star">⭐ Star</option>
                            <option value="octagon">⬢ Octagon</option>
                            <option value="triangle">▲ Triangle</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Primary Color</label>
                        <input type="color" class="form-control" id="logoColor1" value="#ff66c4">
                    </div>
                    <div class="form-group">
                        <label>Secondary Color</label>
                        <input type="color" class="form-control" id="logoColor2" value="#8b5cf6">
                    </div>
                    <div class="form-group">
                        <label>Accent Color</label>
                        <input type="color" class="form-control" id="logoColor3" value="#d946ef">
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group" style="min-width:220px;">
                        <label>Tagline (optional)</label>
                        <input type="text" class="form-control" id="logoTagline" placeholder="Short tagline or descriptor">
                    </div>

                    <div class="form-group" style="min-width:160px;">
                        <label>Variations</label>
                        <input type="range" id="logoVariations" min="1" max="6" value="3" />
                    </div>

                    <div class="form-group" style="min-width:160px;">
                        <label>Format</label>
                        <select class="form-control" id="logoFormat">
                            <option value="svg">SVG (scalable)</option>
                            <option value="png">PNG (raster)</option>
                        </select>
                    </div>
                </div>

                <button class="btn btn-primary" id="generateLogoBtn" style="width: 100%; padding: 15px;">
                    <i class="fas fa-image"></i> Generate Logo Concepts
                </button>

                <div class="results" id="logoResults">
                    <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                        <p>Your AI-generated logo concepts will appear here. Use the controls above to customize designs and download as SVG or PNG.</p>
                    </div>
                </div>
        </div>

        <!-- Dashboard -->
        <div class="dashboard" id="dashboard">
            <div class="dashboard-header">
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-details">
                        <h2 id="userName">John Doe</h2>
                        <p id="userEmail">john@example.com</p>
                        <p><small>Premium Member</small></p>
                    </div>
                </div>
                <div>
                    <button class="btn btn-primary" id="newProjectBtn">
                        <i class="fas fa-plus"></i> New Project
                    </button>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="stat-value" id="brandsCount">24</div>
                    <div class="stat-label">Brands Created</div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-pen-nib"></i>
                    </div>
                    <div class="stat-value" id="contentCount">156</div>
                    <div class="stat-label">Content Pieces</div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="stat-value" id="analysisCount">89</div>
                    <div class="stat-label">Analyses Done</div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="stat-value" id="aiTokens">1.2K</div>
                    <div class="stat-label">AI Tokens Used</div>
                </div>
            </div>

            <div class="recent-activity">
                <h3 style="margin-bottom: 20px;">Recent Activity</h3>
                <div class="activity-item">
                    <div class="activity-icon" style="background: var(--primary);">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <div class="activity-content">
                        <h4>Generated Brand Names</h4>
                        <p>Created 10 brand names for "Tech Startup"</p>
                    </div>
                    <div class="activity-time">2 hours ago</div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon" style="background: var(--secondary);">
                        <i class="fas fa-pen-nib"></i>
                    </div>
                    <div class="activity-content">
                        <h4>Created Marketing Content</h4>
                        <p>Generated product descriptions for "EcoWear"</p>
                    </div>
                    <div class="activity-time">1 day ago</div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon" style="background: var(--accent);">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="activity-content">
                        <h4>Analyzed Sentiment</h4>
                        <p>Analyzed customer reviews for "FreshBites"</p>
                    </div>
                    <div class="activity-time">2 days ago</div>
                </div>
                <div class="activity-item">
                    <div class="activity-icon" style="background: var(--success);">
                        <i class="fas fa-palette"></i>
                    </div>
                    <div class="activity-content">
                        <h4>Generated Design System</h4>
                        <p>Created color palette for "Zenith Tech"</p>
                    </div>
                    <div class="activity-time">3 days ago</div>
                </div>
            </div>
        </div>

        <!-- Loading Overlay -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <h3>Generating with AI...</h3>
            <p>Processing your request with IBM Granite AI</p>
        </div>
    </main>

    <!-- Samples Modal -->
    <div class="modal" id="samplesModal">
        <div class="modal-content" style="max-width: 700px; max-height: 85vh; overflow-y: auto; background: linear-gradient(135deg, var(--surface) 0%, var(--bg) 100%); border: 2px solid rgba(217, 70, 239, 0.2);">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px; padding-bottom: 16px; border-bottom: 2px solid rgba(217, 70, 239, 0.15);">
                <h2 style="font-size: 1.6rem; margin: 0; background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; background-clip: text; color: transparent; display: flex; align-items: center; gap: 12px;"><i class="fas fa-palette"></i> Logo & Design Samples</h2>
                <button style="background: linear-gradient(135deg, rgba(217, 70, 239, 0.2), rgba(255, 30, 86, 0.2)); border: 1px solid var(--primary); border-radius: 50%; width: 40px; height: 40px; font-size: 24px; cursor: pointer; color: var(--primary); display: flex; align-items: center; justify-content: center; transition: all 0.3s ease;" onmouseover="this.style.background='linear-gradient(135deg, rgba(217, 70, 239, 0.4), rgba(255, 30, 86, 0.4))'; this.style.transform='rotate(90deg)';" onmouseout="this.style.background='linear-gradient(135deg, rgba(217, 70, 239, 0.2), rgba(255, 30, 86, 0.2))'; this.style.transform='rotate(0deg)';" onclick="document.getElementById('samplesModal').classList.remove('active');">&times;</button>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 16px; padding: 20px; background: rgba(0, 0, 0, 0.1); border-radius: 12px; backdrop-filter: blur(2px);">
                <!-- Sample Logos with Enhanced Hover Effects -->
                <div class="sample-card" data-design="Aurora Fire" onclick="window.brandArcApp && window.brandArcApp.selectDesign('Aurora Fire')" style="aspect-ratio: 1; background: linear-gradient(135deg, #7c3aed, #d946ef); border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 4px 12px rgba(124,58,237,0.3); position: relative; overflow: hidden;" title="Aurora Fire - Purple & Magenta" onmouseover="this.style.transform='scale(1.08) rotateZ(-5deg)'; this.style.boxShadow='0 12px 32px rgba(124,58,237,0.5)';" onmouseout="this.style.transform='scale(1) rotateZ(0deg)'; this.style.boxShadow='0 4px 12px rgba(124,58,237,0.3)';"><i class="fas fa-fire" style="color: white; font-size: 48px; z-index: 2; position: relative;"></i><div style="position: absolute; inset: 0; background: radial-gradient(circle at 60% 40%, rgba(255,255,255,0.2), transparent); z-index: 1;"></div></div>
                <div class="sample-card" data-design="Midnight Moon" onclick="window.brandArcApp && window.brandArcApp.selectDesign('Midnight Moon')" style="aspect-ratio: 1; background: linear-gradient(135deg, #ff1e56, #ff66c4); border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 4px 12px rgba(255,30,86,0.3); position: relative; overflow: hidden;" title="Midnight Moon - Red & Magenta" onmouseover="this.style.transform='scale(1.08) rotateZ(5deg)'; this.style.boxShadow='0 12px 32px rgba(255,30,86,0.5)';" onmouseout="this.style.transform='scale(1) rotateZ(0deg)'; this.style.boxShadow='0 4px 12px rgba(255,30,86,0.3)';"><i class="fas fa-moon" style="color: white; font-size: 48px; z-index: 2; position: relative;"></i><div style="position: absolute; inset: 0; background: radial-gradient(circle at 60% 40%, rgba(255,255,255,0.2), transparent); z-index: 1;"></div></div>
                <div class="sample-card" data-design="Ember Bolt" onclick="window.brandArcApp && window.brandArcApp.selectDesign('Ember Bolt')" style="aspect-ratio: 1; background: linear-gradient(135deg, #fb923c, #ef4444); border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 4px 12px rgba(251,146,60,0.3); position: relative; overflow: hidden;" title="Ember Bolt - Orange & Red" onmouseover="this.style.transform='scale(1.08) rotateZ(-5deg)'; this.style.boxShadow='0 12px 32px rgba(251,146,60,0.5)';" onmouseout="this.style.transform='scale(1) rotateZ(0deg)'; this.style.boxShadow='0 4px 12px rgba(251,146,60,0.3)';"><i class="fas fa-bolt" style="color: white; font-size: 48px; z-index: 2; position: relative;"></i><div style="position: absolute; inset: 0; background: radial-gradient(circle at 60% 40%, rgba(255,255,255,0.2), transparent); z-index: 1;"></div></div>
                <div class="sample-card" data-design="Mint Leaf" onclick="window.brandArcApp && window.brandArcApp.selectDesign('Mint Leaf')" style="aspect-ratio: 1; background: linear-gradient(135deg, #10b981, #34d399); border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 4px 12px rgba(16,185,129,0.3); position: relative; overflow: hidden;" title="Mint Leaf - Green & Teal" onmouseover="this.style.transform='scale(1.08) rotateZ(5deg)'; this.style.boxShadow='0 12px 32px rgba(16,185,129,0.5)';" onmouseout="this.style.transform='scale(1) rotateZ(0deg)'; this.style.boxShadow='0 4px 12px rgba(16,185,129,0.3)';"><i class="fas fa-leaf" style="color: white; font-size: 48px; z-index: 2; position: relative;"></i><div style="position: absolute; inset: 0; background: radial-gradient(circle at 60% 40%, rgba(255,255,255,0.2), transparent); z-index: 1;"></div></div>
                <div class="sample-card" data-design="Ocean Wave" onclick="window.brandArcApp && window.brandArcApp.selectDesign('Ocean Wave')" style="aspect-ratio: 1; background: linear-gradient(135deg, #06b6d4, #0ea5e9); border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 4px 12px rgba(6,182,212,0.3); position: relative; overflow: hidden;" title="Ocean Wave - Cyan & Blue" onmouseover="this.style.transform='scale(1.08) rotateZ(-5deg)'; this.style.boxShadow='0 12px 32px rgba(6,182,212,0.5)';" onmouseout="this.style.transform='scale(1) rotateZ(0deg)'; this.style.boxShadow='0 4px 12px rgba(6,182,212,0.3)';"><i class="fas fa-droplet" style="color: white; font-size: 48px; z-index: 2; position: relative;"></i><div style="position: absolute; inset: 0; background: radial-gradient(circle at 60% 40%, rgba(255,255,255,0.2), transparent); z-index: 1;"></div></div>
                <div class="sample-card" data-design="Lavender Star" onclick="window.brandArcApp && window.brandArcApp.selectDesign('Lavender Star')" style="aspect-ratio: 1; background: linear-gradient(135deg, #8b5cf6, #a78bfa); border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 4px 12px rgba(139,92,246,0.3); position: relative; overflow: hidden;" title="Lavender Star - Purple" onmouseover="this.style.transform='scale(1.08) rotateZ(5deg)'; this.style.boxShadow='0 12px 32px rgba(139,92,246,0.5)';" onmouseout="this.style.transform='scale(1) rotateZ(0deg)'; this.style.boxShadow='0 4px 12px rgba(139,92,246,0.3)';"><i class="fas fa-star" style="color: white; font-size: 48px; z-index: 2; position: relative;"></i><div style="position: absolute; inset: 0; background: radial-gradient(circle at 60% 40%, rgba(255,255,255,0.2), transparent); z-index: 1;"></div></div>
                <div class="sample-card" data-design="Rose Heart" onclick="window.brandArcApp && window.brandArcApp.selectDesign('Rose Heart')" style="aspect-ratio: 1; background: linear-gradient(135deg, #ec4899, #f472b6); border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 4px 12px rgba(236,72,153,0.3); position: relative; overflow: hidden;" title="Rose Heart - Pink" onmouseover="this.style.transform='scale(1.08) rotateZ(-5deg)'; this.style.boxShadow='0 12px 32px rgba(236,72,153,0.5)';" onmouseout="this.style.transform='scale(1) rotateZ(0deg)'; this.style.boxShadow='0 4px 12px rgba(236,72,153,0.3)';"><i class="fas fa-heart" style="color: white; font-size: 48px; z-index: 2; position: relative;"></i><div style="position: absolute; inset: 0; background: radial-gradient(circle at 60% 40%, rgba(255,255,255,0.2), transparent); z-index: 1;"></div></div>
                <div class="sample-card" data-design="Crown Gold" onclick="window.brandArcApp && window.brandArcApp.selectDesign('Crown Gold')" style="aspect-ratio: 1; background: linear-gradient(135deg, #f59e0b, #fbbf24); border-radius: 12px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1); box-shadow: 0 4px 12px rgba(245,158,11,0.3); position: relative; overflow: hidden;" title="Crown Gold - Amber" onmouseover="this.style.transform='scale(1.08) rotateZ(5deg)'; this.style.boxShadow='0 12px 32px rgba(245,158,11,0.5)';" onmouseout="this.style.transform='scale(1) rotateZ(0deg)'; this.style.boxShadow='0 4px 12px rgba(245,158,11,0.3)';"><i class="fas fa-crown" style="color: white; font-size: 48px; z-index: 2; position: relative;"></i><div style="position: absolute; inset: 0; background: radial-gradient(circle at 60% 40%, rgba(255,255,255,0.2), transparent); z-index: 1;"></div></div>
            </div>
            <p style="margin-top: 24px; padding: 16px; text-align: center; color: var(--text-secondary); font-size: 0.95rem; background: rgba(217, 70, 239, 0.05); border-radius: 8px; border-left: 4px solid var(--primary);">✨ Click any design to use as a template, or create your own custom logo with our Logo Maker!</p>
        </div>
    </div>

    <!-- Auth Modal -->
    <div class="modal" id="authModal">
        <div class="modal-content">
                <div class="modal-header">
                <h2>BrandArc</h2>
                <p>AI-Powered Branding Suite</p>
            </div>
            
            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Login</button>
                <button class="auth-tab" data-tab="signup">Sign Up</button>
                <button class="auth-tab" data-tab="guest"><i class="fas fa-user-clock"></i> Guest</button>
            </div>
            
            <!-- Login Form -->
            <form class="auth-form active" id="loginForm">
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" class="form-control" id="loginEmail" placeholder="you@example.com" required>
                </div>
                
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" class="form-control" id="loginPassword" placeholder="••••••••" required>
                </div>
                
                <div class="form-group" style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <input type="checkbox" id="rememberMe">
                        <label for="rememberMe" style="display: inline; margin-left: 5px;">Remember me</label>
                    </div>
                    <a href="#" style="color: var(--primary); text-decoration: none; font-size: 0.9rem;">Forgot password?</a>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 15px;">
                    <i class="fas fa-sign-in-alt"></i> Login to Dashboard
                </button>
                
                <div style="text-align: center; margin-top: 20px; color: var(--text-secondary);">
                    <p>Demo credentials: demo@brandarc.com / demo123</p>
                    <p style="margin-top: 20px; font-size: 0.95rem;">Don't have an account? <a href="#" onclick="app.switchAuthTab('signup'); return false;" style="color: var(--primary); text-decoration: none; font-weight: 600;">Sign Up</a></p>
                </div>
            </form>
            
            <!-- Signup Form -->
            <form class="auth-form" id="signupForm">
                <div class="form-group">
                    <label>Full Name</label>
                    <input type="text" class="form-control" id="signupName" placeholder="John Doe" required>
                </div>
                
                <div class="form-group">
                    <label>Email Address</label>
                    <input type="email" class="form-control" id="signupEmail" placeholder="you@example.com" required>
                </div>
                
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" class="form-control" id="signupPassword" placeholder="••••••••" required>
                </div>
                
                <div class="form-group">
                    <label>Confirm Password</label>
                    <input type="password" class="form-control" id="signupConfirmPassword" placeholder="••••••••" required>
                </div>
                
                <div class="form-group">
                    <label>Account Type</label>
                    <select class="form-control" id="accountType">
                        <option value="starter">Starter (Free)</option>
                        <option value="pro">Pro ($29/month)</option>
                        <option value="enterprise">Enterprise ($99/month)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <input type="checkbox" id="termsAgree" required>
                    <label for="termsAgree" style="display: inline; margin-left: 5px;">
                        I agree to the <a href="#" style="color: var(--primary);">Terms of Service</a> and <a href="#" style="color: var(--primary);">Privacy Policy</a>
                    </label>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%; padding: 15px;">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
                
                <div style="text-align: center; margin-top: 20px; color: var(--text-secondary); font-size: 0.95rem;">
                    <p>Already have an account? <a href="#" onclick="app.switchAuthTab('login'); return false;" style="color: var(--primary); text-decoration: none; font-weight: 600;">Login</a></p>
                </div>
            </form>

            <!-- Guest Form -->
            <div class="auth-form" id="guestForm" style="text-align: center; padding: 20px 0;">
                <div style="margin-bottom: 20px;">
                    <i class="fas fa-user-clock" style="font-size: 48px; color: var(--primary); margin-bottom: 15px; display: block;"></i>
                    <h3 style="margin-bottom: 10px;">Continue as Guest</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">Explore all features without creating an account. Your work won't be saved.</p>
                </div>
                
                <div style="background: var(--surface); border-radius: var(--radius); padding: 15px; margin-bottom: 20px; text-align: left;">
                    <h4 style="margin-bottom: 10px;">Guest Mode Benefits:</h4>
                    <ul style="color: var(--text-secondary); padding-left: 20px; font-size: 0.9rem;">
                        <li>Try all branding tools instantly</li>
                        <li>No email or password needed</li>
                        <li>Generate brand names, content & logos</li>
                        <li>Chat with AI assistant</li>
                    </ul>
                </div>
                
                <button type="button" class="btn btn-primary" id="guestSubmitBtn" style="width: 100%; padding: 15px;">
                    <i class="fas fa-user-clock"></i> Continue as Guest
                </button>
                
                <p style="margin-top: 15px; color: var(--text-secondary); font-size: 0.9rem;">
                    💡 Create an account anytime to save your work and unlock premium features
                </p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">BrandArc</div>
                <p>AI-Powered Branding Suite for Startups & Creators</p>
                <p style="margin-top: 20px; font-size: 0.9rem;">
                    <i class="fas fa-code"></i> Powered by: 
                    <span style="color: var(--primary);">IBM Granite</span> • 
                    <span style="color: var(--secondary);">Groq AI</span> • 
                    <span style="color: var(--accent);">Stable Diffusion</span>
                </p>
                <p style="margin-top: 10px; font-size: 0.8rem;">
                    &copy; 2024 BrandArc. All rights reserved.
                </p>
            </div>
        </div>
    </footer>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i>
        <span id="toastMessage">Operation completed successfully!</span>
    </div>

    <script>
        // BrandArc Application with Auth & Dashboard
        class BrandArcApp {
            constructor() {
                this.currentTool = null;
                this.isDarkTheme = true;
                this.chatHistory = [];
                this.isLoggedIn = false;
                this.isGuest = false;
                this.currentUser = null;
                this.userProjects = [];
                this.selectedTimeLimit = 'normal';
                this.isRecording = false;
                this.mediaRecorder = null;
                this.recordingStartTime = null;
                this.recordingInterval = null;
                this.audioChunks = [];
                this.selectedDesign = null;
                window.brandArcApp = this;
                this.themePresets = {
                    'Aurora': { primary: '#7c3aed', secondary: '#d946ef', accent: '#8b5cf6', bg: '#0b1020', surface: '#0f172a', text: '#e6eef8', 'text-secondary': '#9fb3d9', border:'#1f2937' },
                    'Midnight': { primary: '#ff1e56', secondary: '#ff66c4', accent: '#d946ef', bg: '#050614', surface: '#0b1220', text: '#e8f0ff', 'text-secondary': '#9fb3d9', border:'#111827' },
                    'Ember': { primary: '#fb923c', secondary: '#ef4444', accent: '#f97316', bg: '#100806', surface: '#1a0f0b', text: '#fff5f0', 'text-secondary': '#f6caca', border:'#2b0f0a' },
                    'Ocean': { primary: '#d946ef', secondary: '#ff1e56', accent: '#7dd3fc', bg: '#021625', surface: '#071a22', text: '#e6fbff', 'text-secondary': '#9ed7e8', border:'#063044' },
                    'Mint': { primary: '#10b981', secondary: '#d946ef', accent: '#34d399', bg: '#07120b', surface: '#0a1b13', text: '#e8fff0', 'text-secondary': '#bfeede', border:'#062014' },
                    'White': { primary: '#ff66c4', secondary: '#8b5cf6', accent: '#d946ef', bg: '#ffffff', surface: '#f8fafc', text: '#0f172a', 'text-secondary': '#64748b', border:'#e2e8f0' },
                    'Black': { primary: '#0b1220', secondary: '#111827', accent: '#374151', bg: '#000000', surface: '#0b0b0d', text: '#e6eef8', 'text-secondary': '#9aa6bf', border:'#111215' }
                };
                this.designColors = {
                    'Aurora Fire': { primary: '#7c3aed', secondary: '#d946ef', accent: '#8b5cf6' },
                    'Midnight Moon': { primary: '#ff1e56', secondary: '#ff66c4', accent: '#d946ef' },
                    'Ember Bolt': { primary: '#fb923c', secondary: '#ef4444', accent: '#f97316' },
                    'Mint Leaf': { primary: '#10b981', secondary: '#34d399', accent: '#6ee7b7' },
                    'Ocean Wave': { primary: '#06b6d4', secondary: '#0ea5e9', accent: '#7dd3fc' },
                    'Lavender Star': { primary: '#8b5cf6', secondary: '#a78bfa', accent: '#ddd6fe' },
                    'Rose Heart': { primary: '#ec4899', secondary: '#f472b6', accent: '#fbcfe8' },
                    'Crown Gold': { primary: '#f59e0b', secondary: '#fbbf24', accent: '#fcd34d' }
                };
                this.init();
            }

            init() {
                this.bindEvents();
                this.setupMockData();
                this.loadTheme();
                this.initThemeCircles();
                this.initLightPalettes();
                // Ensure body reflects chosen theme (default dark)
                document.body.classList.toggle('dark-theme', this.isDarkTheme);
                const themeIcon = document.querySelector('#themeToggle i');
                if (themeIcon) themeIcon.className = this.isDarkTheme ? 'fas fa-sun' : 'fas fa-moon';
                this.checkAuth();
            }

            bindEvents() {
                // Theme toggle
                document.getElementById('themeToggle').addEventListener('click', () => this.toggleTheme());
                
                // Feature cards
                document.querySelectorAll('.feature-card, .btn-small[data-tool]').forEach(card => {
                    card.addEventListener('click', (e) => {
                        const tool = e.currentTarget.getAttribute('data-tool');
                        this.showTool(tool);
                    });
                });
                
                // Back buttons
                document.querySelectorAll('[data-back], #backBtn').forEach(btn => {
                    btn.addEventListener('click', () => this.showFeatures());
                });
                
                // Home link
                document.getElementById('homeLink').addEventListener('click', (e) => {
                    e.preventDefault();
                    this.showFeatures();
                });
                
                // Start button
                document.getElementById('startBtn').addEventListener('click', () => {
                    document.getElementById('features').scrollIntoView({ behavior: 'smooth' });
                });
                
                // Auth buttons
                document.getElementById('loginBtn').addEventListener('click', () => this.showAuthModal('login'));
                document.getElementById('signupBtn').addEventListener('click', () => this.showAuthModal('signup'));
                document.getElementById('dashboardBtn').addEventListener('click', () => this.showDashboard());
                document.getElementById('logoutBtn').addEventListener('click', () => this.logout());
                
                // Guest buttons
                document.getElementById('guestNavBtn').addEventListener('click', () => this.showAuthModal('guest'));
                document.getElementById('guestSubmitBtn').addEventListener('click', () => this.guestLogin());
                
                // Auth modal tabs
                document.querySelectorAll('.auth-tab').forEach(tab => {
                    tab.addEventListener('click', (e) => {
                        const tabName = e.currentTarget.getAttribute('data-tab');
                        this.switchAuthTab(tabName);
                    });
                });
                
                // Auth forms
                document.getElementById('loginForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.login();
                });
                
                document.getElementById('signupForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.signup();
                });
                
                // New project button
                document.getElementById('newProjectBtn').addEventListener('click', () => {
                    this.showTool('brand');
                });
                
                // Generate buttons
                document.getElementById('generateNamesBtn')?.addEventListener('click', () => this.generateBrandNames());
                document.getElementById('generateContentBtn')?.addEventListener('click', () => this.generateContent());
                document.getElementById('analyzeBtn')?.addEventListener('click', () => this.analyzeSentiment());
                document.getElementById('generateDesignBtn')?.addEventListener('click', () => this.generateDesignSystem());
                document.getElementById('generateLogoBtn')?.addEventListener('click', () => this.generateLogo());
                
                // Chat
                document.getElementById('sendMessageBtn').addEventListener('click', () => this.sendMessage());
                // Send on Ctrl/Cmd+Enter from textarea; Enter alone inserts a newline
                document.getElementById('chatInput').addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' && (e.ctrlKey || e.metaKey)) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });
                
                // Time limit selector
                document.querySelectorAll('.time-option').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        document.querySelectorAll('.time-option').forEach(b => b.classList.remove('active'));
                        e.currentTarget.classList.add('active');
                        this.selectedTimeLimit = e.currentTarget.getAttribute('data-time');
                    });
                });
                
                // Voice recorder
                document.getElementById('voiceRecordBtn').addEventListener('click', () => this.toggleVoiceRecording());
                
                // Suggested questions
                document.querySelectorAll('.suggested-question').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const question = e.currentTarget.getAttribute('data-question');
                        document.getElementById('chatInput').value = question;
                        this.sendMessage();
                    });
                });
                
                // Demo button
                document.getElementById('demoBtn').addEventListener('click', () => {
                    this.showDemo();
                });
                
                // Samples buttons
                document.getElementById('seeSamplesBtn').addEventListener('click', () => {
                    document.getElementById('samplesModal').classList.add('active');
                });
                
                document.getElementById('tryLogoMakerBtn').addEventListener('click', () => {
                    this.showTool('logo');
                });
                
                // Close modal on outside click
                document.getElementById('authModal').addEventListener('click', (e) => {
                    if (e.target === document.getElementById('authModal')) {
                        this.hideAuthModal();
                    }
                });
                
                // Close samples modal on outside click
                document.getElementById('samplesModal').addEventListener('click', (e) => {
                    if (e.target === document.getElementById('samplesModal')) {
                        document.getElementById('samplesModal').classList.remove('active');
                    }
                });
                
                // Sample card click handlers
                document.querySelectorAll('.sample-card').forEach(card => {
                    card.addEventListener('click', (e) => {
                        const design = e.currentTarget.getAttribute('data-design');
                        this.selectDesign(design);
                    });
                });
            }

            toggleTheme() {
                this.isDarkTheme = !this.isDarkTheme;
                document.body.classList.toggle('dark-theme', this.isDarkTheme);
                localStorage.setItem('brandarc-theme', this.isDarkTheme ? 'dark' : 'light');
                
                const icon = document.querySelector('#themeToggle i');
                icon.className = this.isDarkTheme ? 'fas fa-sun' : 'fas fa-moon';
                
                this.showToast('Theme ' + (this.isDarkTheme ? 'dark' : 'light') + ' activated');
            }

            toggleUserMenu() {
                const userMenu = document.getElementById('userMenu');
                const isVisible = userMenu.style.display !== 'none';
                userMenu.style.display = isVisible ? 'none' : 'flex';
            }

            loadTheme() {
                const savedTheme = localStorage.getItem('brandarc-theme');
                // savedTheme may be a preset name or 'dark'/'light'
                if (savedTheme) {
                    if (this.themePresets && this.themePresets[savedTheme]) {
                        this.applyTheme(savedTheme);
                        return;
                    }
                    if (savedTheme === 'dark') {
                        this.isDarkTheme = true;
                        document.body.classList.add('dark-theme');
                        const icon = document.querySelector('#themeToggle i');
                        if (icon) icon.className = 'fas fa-sun';
                    }
                }
            }

            initThemeCircles() {
                const container = document.getElementById('themeCircles');
                if (!container) return;
                container.querySelectorAll('.theme-circle').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const name = btn.getAttribute('data-theme');
                        this.applyTheme(name);
                    });
                });
                // If a theme is stored, mark active
                const stored = localStorage.getItem('brandarc-theme');
                if (stored && container.querySelector(`.theme-circle[data-theme="${stored}"]`)) {
                    container.querySelectorAll('.theme-circle').forEach(b=>b.classList.remove('active'));
                    const active = container.querySelector(`.theme-circle[data-theme="${stored}"]`);
                    if (active) active.classList.add('active');
                }
            }

            applyTheme(name) {
                if (!this.themePresets || !this.themePresets[name]) return;
                const p = this.themePresets[name];
                const root = document.documentElement.style;
                root.setProperty('--primary', p.primary);
                root.setProperty('--secondary', p.secondary);
                root.setProperty('--accent', p.accent);
                root.setProperty('--bg', p.bg);
                root.setProperty('--surface', p.surface);
                root.setProperty('--text', p.text);
                root.setProperty('--text-secondary', p['text-secondary']);
                root.setProperty('--border', p.border);

                // update preview mini logo gradient
                document.querySelectorAll('.logo-preview-mini').forEach(el => {
                    el.style.background = `linear-gradient(135deg, ${p.primary}, ${p.secondary})`;
                });

                // update active state on circles
                const container = document.getElementById('themeCircles');
                if (container) {
                    container.querySelectorAll('.theme-circle').forEach(b=>b.classList.remove('active'));
                    const active = container.querySelector(`.theme-circle[data-theme="${name}"]`);
                    if (active) active.classList.add('active');
                }

                // toggle dark-theme for darker presets
                if (p.bg && p.bg !== '#ffffff') document.body.classList.add('dark-theme');
                else document.body.classList.remove('dark-theme');

                localStorage.setItem('brandarc-theme', name);
                this.showToast(`Theme '${name}' applied`, 'info');
            }

            initLightPalettes() {
                const container = document.querySelectorAll('.light-palettes .palette');
                if (!container || container.length === 0) return;
                container.forEach(p => {
                    p.addEventListener('click', () => {
                        // collect first three swatch colors
                        const swatches = Array.from(p.querySelectorAll('.swatch')).slice(0,3);
                        const cols = swatches.map(s => {
                            const bg = window.getComputedStyle(s).backgroundColor;
                            return rgbToHex(bg);
                        });
                        this.applyPalette(cols, p.querySelector('.label')?.textContent || 'Custom');
                        // active state
                        document.querySelectorAll('.light-palettes .palette').forEach(x=>x.classList.remove('active'));
                        p.classList.add('active');
                    });
                });

                function rgbToHex(rgb) {
                    // rgb string like 'rgb(255, 255, 255)' or rgba
                    const m = rgb.match(/rgba?\((\d+),\s*(\d+),\s*(\d+)/i);
                    if (!m) return '#ffffff';
                    return '#' + [1,2,3].map(i => parseInt(m[i]).toString(16).padStart(2,'0')).join('');
                }
            }

            applyPalette(cols, label) {
                // cols: [primary, secondary, accent]
                const root = document.documentElement.style;
                root.setProperty('--primary', cols[0] || getComputedStyle(document.documentElement).getPropertyValue('--primary'));
                root.setProperty('--secondary', cols[1] || getComputedStyle(document.documentElement).getPropertyValue('--secondary'));
                root.setProperty('--accent', cols[2] || getComputedStyle(document.documentElement).getPropertyValue('--accent'));
                // for light palettes, use white bg/surface
                root.setProperty('--bg', '#ffffff');
                root.setProperty('--surface', '#f8fafc');
                root.setProperty('--text', '#0f172a');
                root.setProperty('--text-secondary', '#64748b');
                root.setProperty('--border', '#e2e8f0');

                // update preview mini logo gradient
                document.querySelectorAll('.logo-preview-mini').forEach(el => {
                    el.style.background = `linear-gradient(135deg, ${cols[0] || '#ff66c4'}, ${cols[1] || '#8b5cf6'})`;
                });

                localStorage.setItem('brandarc-theme', label);
                this.showToast(`Palette '${label}' applied`, 'info');
            }

            checkAuth() {
                const user = localStorage.getItem('brandarc-user');
                const guestMode = localStorage.getItem('brandarc-guest');
                
                if (guestMode === 'true') {
                    this.isGuest = true;
                    this.isLoggedIn = false;
                    this.currentUser = {
                        name: 'Guest User',
                        email: 'guest@brandarc.com',
                        accountType: 'guest',
                        joinDate: new Date().toISOString()
                    };
                    this.updateAuthUI();
                } else if (user) {
                    this.currentUser = JSON.parse(user);
                    this.isLoggedIn = true;
                    this.isGuest = false;
                    this.updateAuthUI();
                }
            }

            updateAuthUI() {
                const authButtons = document.getElementById('authButtons');
                const userMenu = document.getElementById('userMenu');
                const guestNavBtn = document.getElementById('guestNavBtn');
                const userDisplayNav = document.getElementById('userDisplayNav');
                const userDisplayName = document.getElementById('userDisplayName');
                
                if ((this.isLoggedIn || this.isGuest) && this.currentUser) {
                    authButtons.style.display = 'none';
                    userMenu.style.display = 'flex';
                    guestNavBtn.style.display = 'none';
                    userDisplayNav.style.display = 'flex';
                    userDisplayName.textContent = this.isGuest ? 'Guest' : this.currentUser.name;
                    
                    // Update user info
                    document.getElementById('userName').textContent = this.currentUser.name;
                    document.getElementById('userEmail').textContent = this.isGuest ? 'Guest Mode' : this.currentUser.email;
                    document.getElementById('userAvatar').innerHTML = `<i class="fas ${this.isGuest ? 'fa-user-clock' : 'fa-user'}"></i>`;
                    
                    // Update dashboard stats (limited for guests)
                    this.updateDashboardStats();
                } else {
                    authButtons.style.display = 'flex';
                    userMenu.style.display = 'none';
                    guestNavBtn.style.display = 'flex';
                    userDisplayNav.style.display = 'none';
                }
            }

            updateDashboardStats() {
                // Show limited stats for guests, full stats for logged-in users
                if (this.isGuest) {
                    document.getElementById('brandsCount').textContent = '5 (limited)';
                    document.getElementById('contentCount').textContent = '20 (limited)';
                    document.getElementById('analysisCount').textContent = '10 (limited)';
                    document.getElementById('aiTokens').textContent = '500 (limited)';
                } else {
                    // Simulate updating stats based on user activity
                    const brandsCount = Math.floor(Math.random() * 50) + 10;
                    const contentCount = Math.floor(Math.random() * 200) + 50;
                    const analysisCount = Math.floor(Math.random() * 100) + 20;
                    const aiTokens = Math.floor(Math.random() * 2000) + 500;
                    
                    document.getElementById('brandsCount').textContent = brandsCount;
                    document.getElementById('contentCount').textContent = contentCount;
                    document.getElementById('analysisCount').textContent = analysisCount;
                    document.getElementById('aiTokens').textContent = this.formatNumber(aiTokens);
                }
            }

            formatNumber(num) {
                if (num >= 1000) {
                    return (num / 1000).toFixed(1) + 'K';
                }
                return num;
            }

            showAuthModal(tab = 'login') {
                const modal = document.getElementById('authModal');
                modal.classList.add('active');
                this.switchAuthTab(tab);
            }

            hideAuthModal() {
                const modal = document.getElementById('authModal');
                modal.classList.remove('active');
            }

            switchAuthTab(tab) {
                // Update tabs
                document.querySelectorAll('.auth-tab').forEach(t => {
                    t.classList.remove('active');
                });
                document.querySelector(`.auth-tab[data-tab="${tab}"]`).classList.add('active');
                
                // Update forms
                document.querySelectorAll('.auth-form').forEach(form => {
                    form.classList.remove('active');
                });
                document.getElementById(`${tab}Form`).classList.add('active');
            }

            login() {
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;
                
                // Demo credentials
                if (email === 'demo@brandarc.com' && password === 'demo123') {
                    this.currentUser = {
                        name: 'Demo User',
                        email: email,
                        accountType: 'pro',
                        joinDate: new Date().toISOString()
                    };
                } else {
                    // Simulate login (in real app, validate with backend)
                    if (!email || !password) {
                        this.showToast('Please fill all fields', 'error');
                        return;
                    }
                    
                    this.currentUser = {
                        name: email.split('@')[0],
                        email: email,
                        accountType: 'starter',
                        joinDate: new Date().toISOString()
                    };
                }
                
                // Save to localStorage
                localStorage.setItem('brandarc-user', JSON.stringify(this.currentUser));
                localStorage.setItem('brandarc-token', 'mock-jwt-token-' + Date.now());
                
                this.isLoggedIn = true;
                this.updateAuthUI();
                this.hideAuthModal();
                this.showDashboard();
                this.showToast('Login successful! Welcome to BrandArc.');
                
                // Clear form
                document.getElementById('loginForm').reset();
            }

            signup() {
                const name = document.getElementById('signupName').value;
                const email = document.getElementById('signupEmail').value;
                const password = document.getElementById('signupPassword').value;
                const confirmPassword = document.getElementById('signupConfirmPassword').value;
                const accountType = document.getElementById('accountType').value;
                
                // Validation
                if (!name || !email || !password || !confirmPassword) {
                    this.showToast('Please fill all fields', 'error');
                    return;
                }
                
                if (password !== confirmPassword) {
                    this.showToast('Passwords do not match', 'error');
                    return;
                }
                
                if (!document.getElementById('termsAgree').checked) {
                    this.showToast('Please agree to the terms', 'error');
                    return;
                }
                
                // Simulate signup
                this.currentUser = {
                    name: name,
                    email: email,
                    accountType: accountType,
                    joinDate: new Date().toISOString()
                };
                
                // Save to localStorage
                localStorage.setItem('brandarc-user', JSON.stringify(this.currentUser));
                localStorage.setItem('brandarc-token', 'mock-jwt-token-' + Date.now());
                
                this.isLoggedIn = true;
                this.updateAuthUI();
                this.hideAuthModal();
                this.showDashboard();
                this.showToast('Account created successfully! Welcome to BrandArc.');
                
                // Clear form
                document.getElementById('signupForm').reset();
            }

            guestLogin() {
                // Set guest mode
                this.isGuest = true;
                this.isLoggedIn = false;
                this.currentUser = {
                    name: 'Guest User',
                    email: 'guest@brandarc.com',
                    accountType: 'guest',
                    joinDate: new Date().toISOString()
                };
                
                // Save to localStorage
                localStorage.setItem('brandarc-guest', 'true');
                
                this.updateAuthUI();
                this.hideAuthModal();
                this.showFeatures();
                this.showToast('Welcome Guest! You can now explore all tools. Create an account to save your work.', 'info');
                
                // Track activity
                console.log('Guest mode activated');
            }

            logout() {
                this.isLoggedIn = false;
                this.isGuest = false;
                this.currentUser = null;
                localStorage.removeItem('brandarc-user');
                localStorage.removeItem('brandarc-token');
                localStorage.removeItem('brandarc-guest');
                this.updateAuthUI();
                this.showFeatures();
                this.showToast('Logged out successfully');
            }

            selectDesign(designName) {
                // Store the selected design
                this.selectedDesign = designName;
                localStorage.setItem('brandarc-selected-design', designName);
                
                // Get the design colors
                const colors = this.designColors[designName];
                if (colors) {
                    // Apply colors to logo color inputs
                    document.getElementById('logoColor1').value = colors.primary;
                    document.getElementById('logoColor2').value = colors.secondary;
                    document.getElementById('logoColor3').value = colors.accent;
                }
                
                // Close the modal with animation
                const modal = document.getElementById('samplesModal');
                modal.classList.remove('active');
                
                // Show notification with design selection
                this.showToast(`✨ ${designName} design selected! Colors applied. Navigating to Logo Maker...`, 'success');
                
                // Navigate to logo maker after a short delay
                setTimeout(() => {
                    this.showTool('logo');
                    // Focus on the brand name input
                    setTimeout(() => {
                        document.getElementById('logoName').focus();
                    }, 300);
                }, 800);
            }

            getDesignColors(designName) {
                return this.designColors[designName] || { primary: '#ff66c4', secondary: '#d946ef', accent: '#8b5cf6' };
            }

            getShapeBorderRadius(shape) {
                const shapeBorderRadius = {
                    'circle': '50%',
                    'rounded': '25%',
                    'square': '0%',
                    'diamond': '0%',
                    'hexagon': '30%',
                    'star': '33%',
                    'octagon': '15%',
                    'triangle': '0%'
                };
                return shapeBorderRadius[shape] || '25%';
            }

            applyShapeStyle(shape) {
                const styles = {
                    'circle': 'border-radius: 50%;',
                    'rounded': 'border-radius: 25%;',
                    'square': 'border-radius: 0%;',
                    'diamond': 'border-radius: 0%; clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);',
                    'hexagon': 'border-radius: 30%; clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);',
                    'star': 'clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);',
                    'octagon': 'border-radius: 15%; clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);',
                    'triangle': 'clip-path: polygon(50% 0%, 100% 100%, 0% 100%);'
                };
                return styles[shape] || styles['rounded'];
            }

            getDesignPrompts(designName) {
                const prompts = {
                    'Aurora Fire': [
                        `Mystical purple and magenta fire essence - ethereal and powerful`,
                        `Aurora-inspired cosmic flame elements - universe-themed elegance`,
                        `Purple fire emblem with magical energy - dynamic and inspiring`
                    ],
                    'Midnight Moon': [
                        `Romantic red and pink midnight theme - love and passion`,
                        `Moonlit crimson brand with mysterious elements - sophisticated`,
                        `Red magenta nighttime icon - vibrant and memorable`
                    ],
                    'Ember Bolt': [
                        `Dynamic orange and red energy burst - power and speed`,
                        `Electric ember elements with intensity - hot and striking`,
                        `Bold orange flame emblem - energetic and fierce`
                    ],
                    'Mint Leaf': [
                        `Fresh green and teal nature-inspired design - growth harmony`,
                        `Organic mint leaf elements - natural and refreshing`,
                        `Green leaf icon - eco-friendly and vibrant`
                    ],
                    'Ocean Wave': [
                        `Serene cyan and blue water flow - calm and fluid`,
                        `Ocean-inspired brand with wave elements - clear refreshing`,
                        `Blue wave emblem - contemporary and flowing`
                    ],
                    'Lavender Star': [
                        `Dreamy purple star elements - inspirational and magical`,
                        `Stellar cosmic theme with lavender tones - celestial`,
                        `Purple star icon - elegant and aspirational`
                    ],
                    'Rose Heart': [
                        `Romantic pink heart elements - love and connection`,
                        `Heartfelt rose tones - emotional and warm`,
                        `Pink heart emblem - compassionate and caring`
                    ],
                    'Crown Gold': [
                        `Premium golden crown elements - luxury and leadership`,
                        `Royal amber elegance - sophisticated and bold`,
                        `Gold crown icon - prestigious and distinguished`
                    ]
                };
                return prompts[designName] || prompts['Aurora Fire'];
            }

            showDashboard() {
                // Hide hero and features
                document.getElementById('hero').style.display = 'none';
                document.getElementById('features').style.display = 'none';
                
                // Hide all tool sections
                document.querySelectorAll('.tool-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // Show dashboard
                document.getElementById('dashboard').classList.add('active');
                
                // Update stats
                this.updateDashboardStats();
                
                // Scroll to top
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Show message for guests
                if (this.isGuest) {
                    this.showToast('Guest Dashboard - Limited access. Create an account to unlock full features!', 'warning');
                }
            }

            showTool(tool) {
                // Hide hero, features, and dashboard
                document.getElementById('hero').style.display = 'none';
                document.getElementById('features').style.display = 'none';
                document.getElementById('dashboard').classList.remove('active');
                
                // Hide all tool sections
                document.querySelectorAll('.tool-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                // Show selected tool
                const toolSection = document.getElementById(tool + '-tool');
                if (toolSection) {
                    toolSection.classList.add('active');
                    this.currentTool = tool;
                    
                    // Scroll to tool
                    toolSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    
                    this.showToast(`${this.getToolName(tool)} tool activated`);
                    
                    // Show warning for guests
                    if (this.isGuest) {
                        setTimeout(() => {
                            this.showToast('💡 Tip: Create an account to save your work and access more features!', 'info');
                        }, 500);
                    }
                    
                    // Track activity if logged in
                    if (this.isLoggedIn) {
                        this.trackActivity(`Opened ${this.getToolName(tool)}`);
                    }
                }
            }

            showFeatures() {
                // Show hero and features
                document.getElementById('hero').style.display = 'block';
                document.getElementById('features').style.display = 'block';
                
                // Hide dashboard and tool sections
                document.getElementById('dashboard').classList.remove('active');
                document.querySelectorAll('.tool-section').forEach(section => {
                    section.classList.remove('active');
                });
                
                this.currentTool = null;
                
                // Scroll to features
                document.getElementById('features').scrollIntoView({ behavior: 'smooth' });
            }

            trackActivity(activity) {
                // In a real app, this would be sent to a backend
                // Works for both logged-in users and guests
                console.log('Activity tracked:', activity, '| User Mode:', this.isGuest ? 'Guest' : 'Registered');
            }

            getToolName(tool) {
                const names = {
                    'brand': 'Brand Name Generator',
                    'content': 'Content Creator',
                    'sentiment': 'Sentiment Analyzer',
                    'chat': 'AI Branding Assistant',
                    'design': 'Design System',
                    'logo': 'Logo Generator'
                };
                return names[tool] || tool;
            }

            async generateBrandNames() {
                const industry = document.getElementById('industry').value;
                const keywords = document.getElementById('keywords').value;
                const tone = document.getElementById('tone').value;
                
                if (!industry) {
                    this.showToast('Please select an industry', 'error');
                    return;
                }
                
                this.showLoading();
                
                // Simulate AI processing
                await this.delay(1500);
                
                const mockNames = this.generateMockBrandNames(industry, keywords, tone);
                this.displayBrandNames(mockNames);
                
                this.hideLoading();
                this.showToast('Generated 10 brand names successfully!');
                
                // Track activity
                if (this.isLoggedIn || this.isGuest) {
                    this.trackActivity(`Generated brand names for ${industry}`);
                    if (this.isLoggedIn) {
                        this.updateDashboardStats();
                    }
                }
            }

            generateMockBrandNames(industry, keywords, tone) {
                const baseNames = [
                    'Nexus', 'Quantum', 'Vision', 'Prime', 'Infinity',
                    'Elevate', 'Zenith', 'Apex', 'Nova', 'Vertex', 'Orbit', 'Pulse', 'Spark', 'Beacon'
                ];

                const suffixes = {
                    'Technology': ['Tech', 'Labs', 'Systems', 'Digital', 'AI'],
                    'SaaS': ['Cloud', 'HQ', 'Soft', 'Suite', 'Works'],
                    'Healthcare': ['Care', 'Health', 'Well', 'Med', 'Clinic'],
                    'Food & Beverage': ['Bites', 'Fresh', 'Kitchen', 'Brew', 'Taste'],
                    'Finance': ['Capital', 'Wealth', 'Trust', 'Fund', 'Bank'],
                    'Education': ['Learn', 'Academy', 'Campus', 'Skill', 'Mind'],
                    'Retail': ['Mart', 'Shop', 'Depot', 'Co', 'Bazaar'],
                    'Fashion': ['Style', 'Couture', 'Threads', 'Vogue', 'Chic'],
                    'Travel': ['Trips', 'Voyage', 'Escape', 'Journeys', 'Atlas'],
                    'Real Estate': ['Estates', 'Homes', 'Property', 'Living', 'Residences'],
                    'Automotive': ['Motors', 'Drive', 'Auto', 'Garage', 'Rides'],
                    'Energy': ['Power', 'Energy', 'Grid', 'Fuel', 'Source'],
                    'Beauty': ['Beauty', 'Glow', 'Cosmetics', 'Aura', 'Salon'],
                    'Media': ['Media', 'Studios', 'Network', 'Broadcast', 'Works'],
                    'Gaming': ['Play', 'Arena', 'Labs', 'Studios', 'Arcade'],
                    'Legal': ['Law', 'Advisors', 'Counsel', 'Legal', 'Partners'],
                    'Logistics': ['Logistics', 'Transit', 'Freight', 'Supply', 'Chain'],
                    'Home': ['Home', 'Living', 'Decor', 'Nest', 'House'],
                    'Pets': ['Pets', 'Paws', 'Tails', 'Vet', 'Animal']
                };

                const industrySuffixes = suffixes[industry] || ['Co', 'Group', 'Global', 'Works'];
                const names = [];

                const keywordList = (keywords || '').split(/[,\s]+/).map(k => k.trim()).filter(Boolean);

                for (let i = 0; i < 10; i++) {
                    const base = baseNames[Math.floor(Math.random() * baseNames.length)];
                    const suffix = industrySuffixes[Math.floor(Math.random() * industrySuffixes.length)];

                    let name = '';

                    if (keywordList.length && Math.random() < 0.65) {
                        const kw = keywordList[Math.floor(Math.random() * keywordList.length)];
                        const capKw = kw.charAt(0).toUpperCase() + kw.slice(1).replace(/[^a-zA-Z0-9]/g, '');
                        const strategies = [
                            `${base}${capKw}`,
                            `${capKw}${suffix}`,
                            `${base}${suffix}${capKw}`,
                            `${capKw}${base}`
                        ];
                        name = strategies[Math.floor(Math.random() * strategies.length)];
                    } else {
                        name = base + suffix;
                    }

                    // sanitize domain (simple)
                    const domainSafe = name.toLowerCase().replace(/&/g, 'and').replace(/[^a-z0-9]/g, '').toLowerCase();

                    names.push({
                        name: name,
                        score: Math.floor(Math.random() * 30) + 70, // 70-100
                        desc: `A ${tone.toLowerCase()} brand for ${industry.toLowerCase()}${keywordList.length ? ' inspired by '+keywordList[0] : ''}`,
                        domain: `${domainSafe}.com`,
                        tone: tone
                    });
                }

                return names;
            }

            displayBrandNames(names) {
                const results = document.getElementById('brandResults');
                results.innerHTML = '';
                
                names.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'result-item';
                    div.innerHTML = `
                        <div class="result-header">
                            <div class="result-name">${item.name}</div>
                            <div class="result-score">${item.score}%</div>
                        </div>
                        <div class="result-desc">${item.desc}</div>
                        <div class="result-meta">
                            <span><i class="fas fa-globe"></i> ${item.domain}</span>
                            <span><i class="fas fa-palette"></i> ${item.tone}</span>
                        </div>
                    `;
                    results.appendChild(div);
                });
            }

            async generateContent() {
                const brandDesc = document.getElementById('brandDesc').value;
                const contentType = document.getElementById('contentType').value;
                const tone = document.getElementById('contentTone').value;
                
                if (!brandDesc) {
                    this.showToast('Please enter a brand description', 'error');
                    return;
                }
                
                this.showLoading();
                await this.delay(1200);
                
                const mockContent = this.generateMockContent(brandDesc, contentType, tone);
                this.displayContent(mockContent);
                
                this.hideLoading();
                this.showToast('Content generated successfully!');
                
                // Track activity
                if (this.isLoggedIn || this.isGuest) {
                    this.trackActivity(`Generated ${contentType} content`);
                }
            }

            generateMockContent(brandDesc, type, tone) {
                const tonePhrases = {
                    'professional': 'in a professional and polished tone.',
                    'friendly': 'with a warm and approachable voice.',
                    'persuasive': 'with persuasive, conversion-focused language.',
                    'witty': 'with a clever, witty touch.',
                    'inspirational': 'in an uplifting, motivational style.',
                    'technical': 'with technical accuracy and clarity.',
                    'casual': 'in a casual, conversational tone.',
                    'authoritative': 'with confident, expert-level authority.',
                    'playful': 'playful and light-hearted.',
                    'empathetic': 'with empathy and customer-centric phrasing.'
                };
                const tonePhrase = tonePhrases[tone] || '';

                const templates = {
                    'product': `Introducing our premium solution: ${brandDesc}. Designed with cutting-edge technology and crafted for excellence, this product delivers unparalleled performance and user experience. Perfect for modern professionals who demand the best. ${tonePhrase}`,
                    'social': `🚀 Exciting news! ${brandDesc} is here to revolutionize your experience. Join the future today! ${tonePhrase} #innovation #${tone} #newproduct`,
                    'email': `Dear valued customer,\n\nWe're thrilled to announce ${brandDesc}. This represents our commitment to innovation and quality. ${tonePhrase}\n\nBest regards,\nThe Team`,
                    'ad': `Discover ${brandDesc} – where innovation meets excellence. Transform your experience today! Limited time offer. ${tonePhrase}`,
                    'article': `Title: The Future of ${brandDesc}\n\n${brandDesc} is reshaping the landscape with its innovative approach. In this article, we explore the key benefits, use cases, and why it matters to professionals and consumers alike.\n\n[Intro]\n[Key Features]\n[Customer Impact]\n[Conclusion] ${tonePhrase}`,
                    'landing': `Headline: Experience ${brandDesc} Today\n\nSubheadline: Built for performance and reliability.\n\nCall to Action: Get started with a free trial and discover how ${brandDesc} can transform your workflow. ${tonePhrase}`,
                    'tagline': `${brandDesc} — Redefining what’s possible. ${tonePhrase}`,
                    'press': `FOR IMMEDIATE RELEASE\n\n${brandDesc} Announces Major Advancement in Its Offering\n\n[City, Date] — ${brandDesc} today unveiled a new initiative designed to accelerate growth and deliver more value to customers. ${tonePhrase}`,
                    'faq': `Q: What is ${brandDesc}?\nA: ${brandDesc} is a solution designed to...\n\nQ: Who is it for?\nA: Ideal for teams and individuals who need... ${tonePhrase}`,
                    'case': `Case Study — How a customer benefited from ${brandDesc}\n\nChallenge: The client faced...\nSolution: Implemented ${brandDesc} to...\nResults: Achieved measurable improvements in... ${tonePhrase}`,
                    'newsletter': `Welcome to our newsletter! This edition focuses on ${brandDesc} and how it's impacting the industry. Highlights: new features, customer stories, and tips to get the most out of it. ${tonePhrase}`,
                    'video': `Video Script:\nOpening: Introduce ${brandDesc} and the problem it solves.\nMiddle: Demo key features with examples.\nClosing: Call to action to visit the site or sign up. ${tonePhrase}`,
                    'infographic': `Infographic Headline: ${brandDesc} by the numbers\n\nKey stats and visuals that show benefits, adoption, and performance metrics. ${tonePhrase}`,
                    'podcast': `Podcast Episode Outline:\nTopic: The story behind ${brandDesc}.\nSegments: Intro, interview with founder, real-world examples, closing thoughts. ${tonePhrase}`
                };
                
                return templates[type] || `Content for: ${brandDesc}`;
            }

            displayContent(content) {
                const results = document.getElementById('contentResults');
                results.innerHTML = `
                    <div class="result-item">
                        <div class="result-header">
                            <div class="result-name">AI-Generated Content</div>
                            <div class="result-score"><i class="fas fa-check"></i></div>
                        </div>
                        <div class="result-desc" style="white-space: pre-line; line-height: 1.8;">${content}</div>
                        <div class="result-meta">
                            <span><i class="fas fa-clock"></i> Generated just now</span>
                            <button class="btn btn-small btn-secondary" onclick="app.copyToClipboard('${content.replace(/\n/g, '\\n')}')">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                        </div>
                    </div>
                `;
            }

            async analyzeSentiment() {
                const text = document.getElementById('sentimentText').value;
                const tone = document.getElementById('sentimentTone').value;
                
                if (!text) {
                    this.showToast('Please enter text to analyze', 'error');
                    return;
                }
                
                this.showLoading();
                await this.delay(1000);
                
                const sentiment = this.analyzeMockSentiment(text, tone);
                this.displaySentiment(sentiment);
                
                this.hideLoading();
                this.showToast('Sentiment analysis complete!');
                
                // Track activity
                if (this.isLoggedIn || this.isGuest) {
                    this.trackActivity('Performed sentiment analysis');
                }
            }

            analyzeMockSentiment(text, tone) {
                const words = text.toLowerCase().split(/\s+/);
                const positiveWords = ['good', 'great', 'excellent', 'love', 'amazing', 'perfect', 'best'];
                const negativeWords = ['bad', 'poor', 'terrible', 'hate', 'awful', 'worst', 'disappointing'];
                
                let positiveCount = 0;
                let negativeCount = 0;
                
                words.forEach(word => {
                    if (positiveWords.includes(word)) positiveCount++;
                    if (negativeWords.includes(word)) negativeCount++;
                });
                
                const total = positiveCount + negativeCount || 1;
                const score = Math.round((positiveCount / total) * 100);
                
                let sentiment = 'Neutral';
                if (score >= 70) sentiment = 'Positive';
                else if (score <= 30) sentiment = 'Negative';
                
                return {
                    sentiment: sentiment,
                    score: score,
                    toneMatch: Math.floor(Math.random() * 40) + 60, // 60-100
                    keywords: words.filter(w => w.length > 4).slice(0, 5),
                    suggestion: this.getSentimentSuggestion(sentiment, tone)
                };
            }

            displaySentiment(data) {
                const icon = data.sentiment === 'Positive' ? 'fa-smile' : 
                            data.sentiment === 'Negative' ? 'fa-frown' : 'fa-meh';
                const color = data.sentiment === 'Positive' ? 'var(--success)' :
                             data.sentiment === 'Negative' ? 'var(--error)' : 'var(--warning)';
                
                const results = document.getElementById('sentimentResults');
                results.innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <div style="font-size: 48px; color: ${color}; margin-bottom: 10px;">
                            <i class="fas ${icon}"></i>
                        </div>
                        <h3>${data.sentiment} Sentiment</h3>
                        <div style="display: flex; justify-content: center; gap: 20px; margin: 20px 0;">
                            <div style="text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: ${color};">${data.score}%</div>
                                <small>Sentiment Score</small>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 24px; font-weight: bold; color: var(--primary);">${data.toneMatch}%</div>
                                <small>Tone Match</small>
                            </div>
                        </div>
                        <div style="background: var(--surface); padding: 15px; border-radius: var(--radius); margin: 20px 0;">
                            <p><strong>Suggestion:</strong> ${data.suggestion}</p>
                        </div>
                    </div>
                `;
            }

            getSentimentSuggestion(sentiment, tone) {
                const suggestions = {
                    'Positive': 'Maintain this positive messaging. Consider highlighting these aspects in marketing materials.',
                    'Negative': 'Address concerns mentioned. Consider revising messaging to be more solution-focused.',
                    'Neutral': 'Add more emotional appeal to better connect with your target audience.'
                };
                return suggestions[sentiment] || 'Continue monitoring brand sentiment regularly.';
            }

            async generateDesignSystem() {
                const industry = document.getElementById('designIndustry').value;
                const style = document.getElementById('designStyle').value;
                
                this.showLoading();
                await this.delay(800);
                
                const colors = this.generateColorPalette(industry, style);
                this.displayDesignSystem(colors, industry, style);
                
                this.hideLoading();
                this.showToast('Design system generated!');
                
                // Track activity
                if (this.isLoggedIn || this.isGuest) {
                    this.trackActivity('Generated design system');
                }
            }

            generateColorPalette(industry, style) {
                // Special handling for 'tech' style: provide tech-focused palettes per industry
                if (style === 'tech') {
                    const techPalettes = {
                        'technology': ['#0ea5e9', '#7c3aed', '#06b6d4', '#00bcd4', '#111827'],
                        'saas': ['#06b6d4', '#0ea5e9', '#7dd3fc', '#60a5fa', '#0f172a'],
                        'finance': ['#0f172a', '#60a5fa', '#06b6d4', '#94a3b8', '#0ea5e9'],
                        'media': ['#ef4444', '#06b6d4', '#8b5cf6', '#f59e0b', '#ff66c4'],
                        'gaming': ['#7c3aed', '#06b6d4', '#ef4444', '#f59e0b', '#0ea5e9'],
                        'default': ['#0ea5e9', '#7c3aed', '#06b6d4', '#00bcd4', '#111827']
                    };
                    return techPalettes[industry] || techPalettes.default;
                }
                const palettes = {
                    'technology-modern': ['#ff66c4', '#d946ef', '#10b981', '#f59e0b', '#8b5cf6'],
                    'technology-minimal': ['#64748b', '#94a3b8', '#cbd5e1', '#f1f5f9', '#0f172a'],
                    'saas-modern': ['#0ea5e9', '#0369a1', '#06b6d4', '#06b6d4', '#7c3aed'],
                    'finance-minimal': ['#0f172a', '#1f2937', '#475569', '#94a3b8', '#60a5fa'],
                    'fashion-modern': ['#ec4899', '#8b5cf6', '#f59e0b', '#10b981', '#ff66c4'],
                    'fashion-bold': ['#dc2626', '#ea580c', '#d97706', '#65a30d', '#059669'],
                    'food-modern': ['#f59e0b', '#d97706', '#dc2626', '#ea580c', '#65a30d'],
                    'health-modern': ['#10b981', '#059669', '#d946ef', '#ff66c4', '#8b5cf6'],
                    'retail-modern': ['#ff7ab6', '#ffb36b', '#ffd166', '#6ee7b7', '#60a5fa'],
                    'travel-modern': ['#06b6d4', '#0ea5e9', '#2563eb', '#7dd3fc', '#06b6d4'],
                    'realestate-elegant': ['#0f172a', '#111827', '#525252', '#f3f4f6', '#d1d5db'],
                    'automotive-bold': ['#111827', '#ef4444', '#f97316', '#374151', '#6b7280'],
                    'energy-vibrant': ['#f97316', '#f59e0b', '#10b981', '#06b6d4', '#ef4444'],
                    'beauty-elegant': ['#fce7f3', '#fbcfe8', '#f9a8d4', '#fb7185', '#a78bfa'],
                    'media-bold': ['#ef4444', '#f97316', '#f59e0b', '#06b6d4', '#8b5cf6'],
                    'gaming-bold': ['#0ea5e9', '#7c3aed', '#ef4444', '#06b6d4', '#f59e0b'],
                    'legal-minimal': ['#0f172a', '#111827', '#374151', '#6b7280', '#94a3b8'],
                    'logistics-modern': ['#0ea5e9', '#0284c7', '#06b6d4', '#22c55e', '#f97316'],
                    'home-warm': ['#ffd7a8', '#ffb4a2', '#ffecd1', '#fbbf24', '#fb923c'],
                    'pets-playful': ['#ff9de2', '#ffd6a5', '#bfe9ff', '#a7f3d0', '#fbcfe8'],
                    /* Style-specific palettes */
                    'technology-futuristic': ['#0ea5e9', '#7c3aed', '#06b6d4', '#00bcd4', '#111827'],
                    'fashion-vintage': ['#8b5e3c', '#d4a373', '#f3e6d8', '#b07aa1', '#7c5a8a'],
                    'health-organic': ['#34d399', '#86efac', '#bbf7d0', '#065f46', '#064e3b'],
                    'food-vintage': ['#d97706', '#f59e0b', '#c2410c', '#fde68a', '#7c2d12'],
                    'saas-futuristic': ['#06b6d4', '#0ea5e9', '#7dd3fc', '#60a5fa', '#0f172a'],
                    'retail-vibrant': ['#ff7ab6', '#ffb86b', '#ffd166', '#7ee7b7', '#60a5fa'],
                    'travel-muted': ['#64748b', '#94a3b8', '#cbd5e1', '#e6edf3', '#0f172a'],
                    'realestate-corporate': ['#0f172a', '#111827', '#374151', '#94a3b8', '#f3f4f6'],
                    'automotive-edgy': ['#111827', '#ef4444', '#f97316', '#1f2937', '#6b7280'],
                    'energy-eco': ['#10b981', '#34d399', '#a7f3d0', '#f97316', '#06b6d4'],
                    'beauty-pastel': ['#fbe7f9', '#f8cffa', '#f4c8d7', '#fbcfe8', '#fde68a'],
                    'media-creative': ['#ef4444', '#f97316', '#8b5cf6', '#06b6d4', '#ff66c4'],
                    'gaming-edgy': ['#7c3aed', '#06b6d4', '#ef4444', '#f59e0b', '#0ea5e9'],
                    'legal-corporate': ['#0f172a', '#111827', '#374151', '#6b7280', '#94a3b8'],
                    'logistics-industrial': ['#0ea5e9', '#0284c7', '#0ea5a5', '#475569', '#94a3b8'],
                    'home-handcrafted': ['#f6e2b3', '#ffd6a5', '#fbd38d', '#d6cfc7', '#c7b299'],
                    'pets-playful-v2': ['#ffd6e0', '#ffd6a5', '#bfe9ff', '#a7f3d0', '#fbcfe8']
                };
                
                return palettes[`${industry}-${style}`] || ['#ff66c4', '#8b5cf6', '#d946ef', '#10b981', '#f59e0b'];
            }

            displayDesignSystem(colors, industry, style) {
                const results = document.getElementById('designResults');
                let colorHTML = '';
                
                colors.forEach(color => {
                    colorHTML += `<div style="background: ${color}; height: 60px; border-radius: var(--radius);"></div>`;
                });
                
                results.innerHTML = `
                    <div style="margin-bottom: 20px;">
                        <h4 style="margin-bottom: 10px;">${style.charAt(0).toUpperCase() + style.slice(1)} Color Palette</h4>
                        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px;">
                            ${colorHTML}
                        </div>
                    </div>
                    <div style="text-align: center; margin-bottom: 18px;">
                        <button class="btn btn-primary btn-small" onclick="app.applyPalette('${colors.join('|')}', '${industry}', '${style}')">Apply Palette</button>
                        <button class="btn btn-secondary btn-small" style="margin-left:8px;" onclick="app.copyPalette('${colors.join('|')}')">Copy Colors</button>
                    </div>
                    <div style="background: var(--surface); padding: 15px; border-radius: var(--radius);">
                        <h4 style="margin-bottom: 10px;">Design Recommendations:</h4>
                        <ul style="color: var(--text-secondary); padding-left: 20px;">
                            <li>Use ${colors[0]} as primary brand color</li>
                            <li>${colors[1]} works well for accents and CTAs</li>
                            <li>${colors[2]} is perfect for backgrounds and highlights</li>
                            <li>Combine with ${style === 'minimal' ? 'simple' : 'bold'} typography</li>
                            <li>Maintain consistent spacing and layout</li>
                        </ul>
                    </div>
                `;
            }

            applyPalette(colorsStr, industry, style) {
                const cols = (colorsStr || '').split('|');
                // ensure form selects reflect the chosen industry/style
                const designSelect = document.getElementById('designIndustry');
                const styleSelect = document.getElementById('designStyle');
                if (designSelect) {
                    // try matching value; fallback to keeping current
                    try { designSelect.value = industry || designSelect.value; } catch(e) {}
                }
                if (styleSelect) {
                    try { styleSelect.value = style || styleSelect.value; } catch(e) {}
                }

                // Apply to logo color inputs (first 3 colors)
                if (cols.length) document.getElementById('logoColor1').value = cols[0] || document.getElementById('logoColor1').value;
                if (cols.length > 1) document.getElementById('logoColor2').value = cols[1] || document.getElementById('logoColor2').value;
                if (cols.length > 2) document.getElementById('logoColor3').value = cols[2] || document.getElementById('logoColor3').value;

                // Save selected design label and show badge
                this.selectedDesign = `${industry || 'custom'}-${style || 'custom'}`;
                const badge = document.getElementById('selectedDesignBadge');
                const txt = document.getElementById('selectedDesignText');
                if (txt) txt.textContent = `Applied palette: ${this.selectedDesign}`;
                if (badge) badge.style.display = 'block';

                this.showToast('Palette applied to Logo Maker.');
            }

            copyPalette(colorsStr) {
                const cols = (colorsStr || '').split('|');
                const text = cols.join(', ');
                if (navigator.clipboard) {
                    navigator.clipboard.writeText(text).then(() => this.showToast('Colors copied to clipboard'));
                } else {
                    this.showToast('Clipboard not available', 'error');
                }
            }

            async generateLogo() {
                const name = document.getElementById('logoName').value;
                const industry = document.getElementById('logoIndustry').value;
                const style = document.getElementById('logoStyle').value;
                
                if (!name) {
                    this.showToast('Please enter a brand name', 'error');
                    return;
                }
                
                this.showLoading();
                await this.delay(2000);
                
                const logos = this.generateMockLogos(name, industry, style, this.selectedDesign);
                this.displayLogos(logos, this.selectedDesign);
                
                this.hideLoading();
                const designMsg = this.selectedDesign ? ` with ${this.selectedDesign} colors!` : '!';
                this.showToast(`✨ Logo concepts generated${designMsg}`);
                
                // Track activity
                if (this.isLoggedIn || this.isGuest) {
                    this.trackActivity('Generated logo concepts');
                }
            }

            generateMockLogos(name, industry, style, designName) {
                const icons = {
                    'tech': ['fa-microchip', 'fa-robot', 'fa-brain', 'fa-rocket', 'fa-globe'],
                    'saas': ['fa-cloud', 'fa-server', 'fa-code', 'fa-cubes', 'fa-sync-alt'],
                    'finance': ['fa-chart-line', 'fa-coins', 'fa-piggy-bank', 'fa-wallet', 'fa-university'],
                    'fashion': ['fa-gem', 'fa-tshirt', 'fa-ring', 'fa-crown', 'fa-star'],
                    'food': ['fa-utensils', 'fa-pizza-slice', 'fa-mug-hot', 'fa-seedling', 'fa-heart'],
                    'health': ['fa-heart-pulse', 'fa-leaf', 'fa-spa', 'fa-dumbbell', 'fa-apple-whole'],
                    'education': ['fa-book', 'fa-graduation-cap', 'fa-chalkboard-teacher', 'fa-lightbulb', 'fa-school'],
                    'retail': ['fa-shopping-bag', 'fa-tags', 'fa-store', 'fa-shopping-cart', 'fa-gift'],
                    'travel': ['fa-plane', 'fa-hotel', 'fa-map-marked-alt', 'fa-umbrella-beach', 'fa-globe-americas'],
                    'realestate': ['fa-home', 'fa-building', 'fa-key', 'fa-city', 'fa-map-pin'],
                    'automotive': ['fa-car', 'fa-traffic-light', 'fa-gas-pump', 'fa-road', 'fa-tools'],
                    'energy': ['fa-bolt', 'fa-solar-panel', 'fa-wind', 'fa-plug', 'fa-fire'],
                    'beauty': ['fa-magic', 'fa-makeup', 'fa-wine-bottle', 'fa-leaf', 'fa-spa'],
                    'media': ['fa-tv', 'fa-film', 'fa-broadcast-tower', 'fa-music', 'fa-newspaper'],
                    'gaming': ['fa-gamepad', 'fa-ghost', 'fa-dice', 'fa-fire', 'fa-bolt'],
                    'legal': ['fa-gavel', 'fa-balance-scale-left', 'fa-file-contract', 'fa-briefcase', 'fa-university'],
                    'logistics': ['fa-truck', 'fa-shipping-fast', 'fa-box', 'fa-route', 'fa-warehouse'],
                    'home': ['fa-couch', 'fa-lightbulb', 'fa-home', 'fa-tools', 'fa-leaf'],
                    'pets': ['fa-paw', 'fa-dog', 'fa-cat', 'fa-bone', 'fa-heart']
                };
                
                const industryIcons = icons[industry] || ['fa-star', 'fa-circle', 'fa-square', 'fa-hexagon', 'fa-diamond'];
                const shape = document.getElementById('logoShape').value;
                
                // Get design-specific prompts if design is selected
                let designPrompts = [];
                let colors = [];
                if (designName) {
                    designPrompts = this.getDesignPrompts(designName);
                    const designColors = this.getDesignColors(designName);
                    colors = [designColors.primary, designColors.secondary];
                } else {
                    colors = this.generateColorPalette(industry, style).slice(0, 2);
                    
                    // Default shape-specific prompts when no design selected
                    const shapePrompts = {
                        'rounded': [
                            `Soft, friendly ${name} logo with rounded emblem design - ${industry}`,
                            `Circular badge-style ${name} branding with rounded corners - elegant`,
                            `Modern rounded rectangle ${name} mark - contemporary`
                        ],
                        'circle': [
                            `Perfect circular ${name} monogram - ${industry} focus`,
                            `Geometric circular ${name} icon - minimalist ring design`,
                            `Centered circular ${name} badge with symmetrical elements`
                        ],
                        'square': [
                            `Bold square ${name} logo - strong geometric design`,
                            `Clean square tile ${name} brand mark - modern grid`,
                            `Angular square ${name} emblem - contemporary architecture`
                        ],
                        'diamond': [
                            `Elegant diamond-shaped ${name} logo - precious and refined`,
                            `Geometric diamond ${name} mark - sharp and distinctive`,
                            `Diamond emblem for ${name} - luxurious design`
                        ],
                        'hexagon': [
                            `Hexagonal ${name} logo - organized and balanced`,
                            `Geometric hexagon ${name} mark - technical and modern`,
                            `Honeycomb-inspired ${name} emblem - versatile design`
                        ],
                        'star': [
                            `Star-shaped ${name} logo - excellence and achievement`,
                            `Stellar ${name} mark - inspirational and premium`,
                            `Radiant star emblem for ${name} - memorable and bold`
                        ],
                        'octagon': [
                            `Octagonal ${name} logo - strength and structure`,
                            `8-sided ${name} mark - balanced and powerful`,
                            `Octagon emblem for ${name} - professional design`
                        ],
                        'triangle': [
                            `Triangular ${name} logo - dynamic and directional`,
                            `Sharp triangle ${name} mark - modern and energetic`,
                            `Triangle emblem for ${name} - forward-thinking design`
                        ]
                    };
                    designPrompts = shapePrompts[shape] || shapePrompts['rounded'];
                }
                
                return industryIcons.slice(0, 3).map((icon, index) => ({
                    icon: icon,
                    style: style,
                    colors: colors,
                    shape: shape,
                    concept: designPrompts[index] || `${style} ${industry} logo concept for ${name}`
                }));
            }

            getShapeBorderRadius(shape) {
                const shapeBorderRadius = {
                    'circle': '50%',
                    'rounded': '25%',
                    'square': '0%',
                    'diamond': '0% 0% 0% 0% / 0% 0% 0% 0%',
                    'hexagon': '30%',
                    'star': '33%',
                    'octagon': '15%',
                    'triangle': '0% 0% 0% 0%'
                };
                return shapeBorderRadius[shape] || '25%';
            }

            applyShapeStyle(shape) {
                const styles = {
                    'circle': 'border-radius: 50%;',
                    'rounded': 'border-radius: 25%;',
                    'square': 'border-radius: 0%;',
                    'diamond': 'border-radius: 0%; clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);',
                    'hexagon': 'border-radius: 30%; clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);',
                    'star': 'clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);',
                    'octagon': 'border-radius: 15%; clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);',
                    'triangle': 'clip-path: polygon(50% 0%, 100% 100%, 0% 100%);'
                };
                return styles[shape] || styles['rounded'];
            }

            displayLogos(logos, designName) {
                const results = document.getElementById('logoResults');
                let color1, color2, shadowColor = 'rgba(217, 70, 239, 0.2)';
                
                if (designName) {
                    const designColors = this.getDesignColors(designName);
                    color1 = designColors.primary;
                    color2 = designColors.secondary;
                    // Extract RGB from hex and create shadow color
                    const rgbs = designColors.primary.match(/\w\w/g).map(x => parseInt(x, 16));
                    shadowColor = `rgba(${rgbs[0]}, ${rgbs[1]}, ${rgbs[2]}, 0.2)`;
                } else {
                    color1 = document.getElementById('logoColor1').value;
                    color2 = document.getElementById('logoColor2').value;
                }
                let logosHTML = '';
                
                logos.forEach((logo, index) => {
                    // Use design colors consistently
                    const shapeStyle = this.applyShapeStyle(logo.shape);
                    logosHTML += `
                        <div style="text-align: center; margin-bottom: 30px; padding: 20px; background: linear-gradient(135deg, ${color1}11, ${color2}11); border-radius: 12px; border: 2px solid ${color1}33;">
                            <div style="width: 140px; height: 140px; background: linear-gradient(135deg, ${color1}, ${color2}); 
                                 ${shapeStyle}
                                 margin: 0 auto 10px; display: flex; align-items: center; justify-content: center; 
                                 color: white; font-size: 48px; box-shadow: 0 8px 20px ${shadowColor}; transition: all 0.3s ease; cursor: pointer;" 
                                 onmouseover="this.style.transform='scale(1.05) rotateZ(-2deg)'; this.style.boxShadow='0 16px 40px ${shadowColor.replace('0.2', '0.4')}';" 
                                 onmouseout="this.style.transform='scale(1) rotateZ(0deg)'; this.style.boxShadow='0 8px 20px ${shadowColor}';">
                                <i class="fas ${logo.icon}"></i>
                            </div>
                            <h4 style="margin-bottom: 8px; color: var(--text); font-weight: 600;">Concept ${index + 1}</h4>
                            <p style="color: var(--text-secondary); font-size: 0.9rem; margin: 0; line-height: 1.4;">${logo.concept}</p>
                            <div style="margin-top: 12px; display: flex; gap: 8px; justify-content: center;">
                                <button class="btn btn-primary btn-small" onclick="alert('📥 Downloading SVG: ${logo.concept}')" style="padding: 6px 12px; font-size: 0.85rem; background: linear-gradient(135deg, ${color1}, ${color2}); border: none;"><i class="fas fa-download"></i> SVG</button>
                                <button class="btn btn-secondary btn-small" onclick="alert('📥 Downloading PNG: ${logo.concept}')" style="padding: 6px 12px; font-size: 0.85rem; background: ${color1}22; border: 1px solid ${color1};"><i class="fas fa-download"></i> PNG</button>
                            </div>
                        </div>
                    `;
                });
                
                results.innerHTML = `
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        ${logosHTML}
                    </div>
                `;
            }

            async sendMessage() {
                const input = document.getElementById('chatInput');
                const message = input.value.trim();
                    const svgs = []; // Array to hold generated SVGs
            
                    // --- Logo helpers ---
            
                    // Shift a hex color's hue by degrees (simple HSL conversion)
                    function shiftColor(hex, degrees) {
                        try {
                            const c = hex.replace('#','');
                            const r = parseInt(c.substring(0,2),16)/255;
                            const g = parseInt(c.substring(2,4),16)/255;
                            const b = parseInt(c.substring(4,6),16)/255;
                            const max = Math.max(r,g,b), min = Math.min(r,g,b);
                            let h, s, l = (max + min) / 2;
                            if (max == min) { h = s = 0; }
                            else {
                                const d = max - min;
                                s = l > 0.5 ? d / (2 - max - min) : d / (max + min);
                                switch(max){
                                    case r: h = (g - b) / d + (g < b ? 6 : 0); break;
                                    case g: h = (b - r) / d + 2; break;
                                    case b: h = (r - g) / d + 4; break;
                                }
                                h /= 6;
                            }
                            h = (h*360 + degrees + 360) % 360;
                            // convert back
                            const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                            const p = 2 * l - q;
                            const hk = h / 360;
                            const tr = hue2rgb(p, q, hk + 1/3);
                            const tg = hue2rgb(p, q, hk);
                            const tb = hue2rgb(p, q, hk - 1/3);
                            function toHex(x){ return Math.round(x*255).toString(16).padStart(2,'0'); }
                            return '#' + toHex(tr) + toHex(tg) + toHex(tb);
                            function hue2rgb(a, b, t){ if(t<0) t+=1; if(t>1) t-=1; if(t<1/6) return a + (b - a) * 6 * t; if(t<1/2) return b; if(t<2/3) return a + (b - a) * (2/3 - t) * 6; return a; }
                        } catch(e){ return hex; }
                    }
            
                    function buildLogoSVG(opts) {
                        const {name, tagline, style, shape, fill1, fill2, fill3, index} = opts;
                        const w = 400, h = 200;
                        const centerX = 80, centerY = 100;
                        const iconSize = 120;
                        const id = 'g' + Math.floor(Math.random()*1000000) + '-' + index;
                        const bgShape = (shape === 'circle') ? `<circle cx="${centerX}" cy="${centerY}" r="${iconSize/2}" fill="url(#grad-${id})"/>` :
                                        (shape === 'square') ? `<rect x="${centerX-iconSize/2}" y="${centerY-iconSize/2}" width="${iconSize}" height="${iconSize}" rx="12" fill="url(#grad-${id})"/>` :
                                        `<rect x="${centerX-iconSize/2}" y="${centerY-iconSize/2}" width="${iconSize}" height="${iconSize}" rx="30" fill="url(#grad-${id})"/>`;
                
                        const textX = 160;
                        const text = `<text x="${textX}" y="${centerY-6}" font-family="Inter, Roboto, Arial" font-size="22" fill="#0f172a" font-weight="700">${escapeXml(name)}</text>`;
                        const sub = tagline ? `<text x="${textX}" y="${centerY+20}" font-family="Inter, Roboto, Arial" font-size="12" fill="#475569">${escapeXml(tagline)}</text>` : '';
                
                        const grad = `<defs>
                            <linearGradient id="grad-${id}" x1="0" x2="1">
                                <stop offset="0%" stop-color="${fill1}" />
                                <stop offset="100%" stop-color="${fill2}" />
                            </linearGradient>
                        </defs>`;
                
                        const icon = `<g transform="translate(${centerX-10}, ${centerY-10})">
                            <path d="M10 30 C 30 10, 70 10, 90 30 L 90 70 C 70 90, 30 90, 10 70 Z" fill="${fill3}" opacity="0.95" />
                            <circle cx="50" cy="50" r="14" fill="rgba(255,255,255,0.12)" />
                        </g>`;
                
                        return `<?xml version="1.0" encoding="UTF-8"?>
                        <svg xmlns="http://www.w3.org/2000/svg" width="${w}" height="${h}" viewBox="0 0 ${w} ${h}" role="img" aria-label="${escapeXml(name)} logo">
                            ${grad}
                            ${bgShape}
                            ${icon}
                            ${text}
                            ${sub}
                        </svg>`;
                
                        function escapeXml(s){ return String(s).replace(/[&<>"']/g, function(c){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&apos;"}[c]; }); }
                    }
            
                    // Continue with logo generation...
                if (!message) return;
                
                // Add user message
                this.addMessage(message, 'user');
                input.value = '';
                
                // Show typing indicator
                this.showTyping();
                
                // Simulate AI thinking
                await this.delay(800);
                
                // Get AI response(s) - may return a string or an array of strings
                const responses = this.getAIResponse(message);
                // Ensure pending responses container exists on this
                this.pendingAIResponses = this.pendingAIResponses || [];

                if (Array.isArray(responses)) {
                    // Show only the first response now and queue the rest
                    const first = responses[0];
                    this.addMessage(this.addTimeContext(first), 'ai');
                    this.pendingAIResponses = responses.slice(1);
                } else {
                    this.addMessage(this.addTimeContext(responses), 'ai');
                    this.pendingAIResponses = [];
                }

                // If there are queued responses, render the "More" button
                if (this.pendingAIResponses && this.pendingAIResponses.length > 0) {
                    this.showMoreResponsesButton();
                } else {
                    this.hideMoreResponsesButton();
                }
                
                // Generate and display relevant images
                this.displayRelevantImages(message);
                
                this.hideTyping();
                this.scrollChatToBottom();
                
                // Track activity
                if (this.isLoggedIn || this.isGuest) {
                    this.trackActivity('Chatted with AI assistant');
                }
            }

            displayRelevantImages(message) {
                const gallery = document.getElementById('galleryGrid');
                gallery.innerHTML = ''; // Clear previous images

                const lowerMessage = message.toLowerCase();
                let images = [];

                // Determine topic and generate relevant images
                if (lowerMessage.includes('logo') || lowerMessage.includes('design')) {
                    images = this.generateLogoVisuals();
                } else if (lowerMessage.includes('color') || lowerMessage.includes('palette')) {
                    images = this.generateColorPalettes();
                } else if (lowerMessage.includes('brand name') || lowerMessage.includes('naming')) {
                    images = this.generateBrandNameVisuals();
                } else if (lowerMessage.includes('strategy') || lowerMessage.includes('planning')) {
                    images = this.generateStrategyVisuals();
                } else if (lowerMessage.includes('content') || lowerMessage.includes('writing')) {
                    images = this.generateContentVisuals();
                } else {
                    images = this.generateGeneralBrandingVisuals();
                }

                // Display images
                images.forEach((img, idx) => {
                    const item = document.createElement('div');
                    item.className = 'gallery-item';
                    item.innerHTML = `
                        ${img.svg}
                        <div class="gallery-item-tooltip">${img.label}</div>
                    `;
                    gallery.appendChild(item);
                });
            }

            generateLogoVisuals() {
                const logoShapes = [
                    { svg: this.createCircleLogo('#ff66c4'), label: 'Modern Circle' },
                    { svg: this.createSquareLogo('#d946ef'), label: 'Bold Square' },
                    { svg: this.createRoundedLogo('#a78bfa'), label: 'Soft Rounded' },
                    { svg: this.createGeometricLogo('#f87171'), label: 'Geometric' },
                    { svg: this.createMinimalLogo('#60a5fa'), label: 'Minimal' },
                    { svg: this.createGradientLogo('#fb923c'), label: 'Gradient' }
                ];
                return logoShapes;
            }

            generateColorPalettes() {
                const palettes = [
                    { svg: this.createPalette(['#ff66c4', '#ff1e56', '#d946ef']), label: 'Vibrant' },
                    { svg: this.createPalette(['#06b6d4', '#0ea5e9', '#3b82f6']), label: 'Cool Blue' },
                    { svg: this.createPalette(['#f59e0b', '#fb923c', '#f97316']), label: 'Warm Orange' },
                    { svg: this.createPalette(['#10b981', '#34d399', '#6ee7b7']), label: 'Fresh Green' },
                    { svg: this.createPalette(['#8b5cf6', '#a78bfa', '#c4b5fd']), label: 'Purple Hues' },
                    { svg: this.createPalette(['#ec4899', '#f472b6', '#fbcfe8']), label: 'Pink Soft' }
                ];
                return palettes;
            }

            generateBrandNameVisuals() {
                const nameStyles = [
                    { svg: this.createTextLogo('Brand', '#ff66c4', 'bold'), label: 'Bold Text' },
                    { svg: this.createTextLogo('Brand', '#d946ef', 'italic'), label: 'Italic' },
                    { svg: this.createTextLogo('B', '#a78bfa', 'monogram'), label: 'Monogram' },
                    { svg: this.createTextLogo('BRAND', '#f87171', 'caps'), label: 'Capitals' },
                    { svg: this.createTextLogo('brand', '#60a5fa', 'modern'), label: 'Modern' },
                    { svg: this.createTextLogo('Brand', '#fb923c', 'decorative'), label: 'Decorative' }
                ];
                return nameStyles;
            }

            generateStrategyVisuals() {
                return [
                    { svg: this.createStrategyChart('target'), label: 'Target Audience' },
                    { svg: this.createStrategyChart('positioning'), label: 'Positioning' },
                    { svg: this.createStrategyChart('values'), label: 'Brand Values' },
                    { svg: this.createStrategyChart('pyramid'), label: 'Brand Pyramid' },
                    { svg: this.createStrategyChart('canvas'), label: 'Canvas' },
                    { svg: this.createStrategyChart('roadmap'), label: 'Roadmap' }
                ];
            }

            generateContentVisuals() {
                return [
                    { svg: this.createContentIcon('article'), label: 'Article' },
                    { svg: this.createContentIcon('social'), label: 'Social Post' },
                    { svg: this.createContentIcon('email'), label: 'Email' },
                    { svg: this.createContentIcon('video'), label: 'Video' },
                    { svg: this.createContentIcon('infographic'), label: 'Infographic' },
                    { svg: this.createContentIcon('podcast'), label: 'Podcast' }
                ];
            }

            generateGeneralBrandingVisuals() {
                return [
                    { svg: this.createAbstractShape('circle'), label: 'Circle' },
                    { svg: this.createAbstractShape('triangle'), label: 'Triangle' },
                    { svg: this.createAbstractShape('square'), label: 'Square' },
                    { svg: this.createAbstractShape('wave'), label: 'Wave' },
                    { svg: this.createAbstractShape('hexagon'), label: 'Hexagon' },
                    { svg: this.createAbstractShape('star'), label: 'Star' }
                ];
            }

            // SVG Generation Methods
            createCircleLogo(color) {
                return `<svg viewBox="0 0 100 100"><circle cx="50" cy="50" r="45" fill="${color}" opacity="0.2"/><circle cx="50" cy="50" r="35" fill="none" stroke="${color}" stroke-width="2"/><circle cx="50" cy="50" r="15" fill="${color}"/></svg>`;
            }

            createSquareLogo(color) {
                return `<svg viewBox="0 0 100 100"><rect x="10" y="10" width="80" height="80" fill="${color}" opacity="0.2" rx="8"/><rect x="20" y="20" width="60" height="60" fill="none" stroke="${color}" stroke-width="2" rx="4"/><rect x="35" y="35" width="30" height="30" fill="${color}" rx="2"/></svg>`;
            }

            createRoundedLogo(color) {
                return `<svg viewBox="0 0 100 100"><rect x="10" y="10" width="80" height="80" fill="${color}" opacity="0.2" rx="20"/><path d="M30 50 Q50 30 70 50 Q50 70 30 50" fill="${color}" opacity="0.8"/></svg>`;
            }

            createGeometricLogo(color) {
                return `<svg viewBox="0 0 100 100"><polygon points="50,15 85,85 15,85" fill="${color}" opacity="0.2"/><polygon points="50,30 75,75 25,75" fill="none" stroke="${color}" stroke-width="2"/><polygon points="50,45 65,65 35,65" fill="${color}"/></svg>`;
            }

            createMinimalLogo(color) {
                return `<svg viewBox="0 0 100 100"><line x1="20" y1="20" x2="80" y2="80" stroke="${color}" stroke-width="3"/><line x1="20" y1="80" x2="80" y2="20" stroke="${color}" stroke-width="3"/><circle cx="50" cy="50" r="5" fill="${color}"/></svg>`;
            }

            createGradientLogo(color) {
                return `<svg viewBox="0 0 100 100"><defs><linearGradient id="grad"><stop offset="0%" stop-color="${color}"/><stop offset="100%" stop-color="#ff66c4"/></linearGradient></defs><circle cx="50" cy="50" r="40" fill="url(#grad)"/></svg>`;
            }

            createPalette(colors) {
                const swatches = colors.map((c, i) => `<rect x="${i * 25}" y="20" width="25" height="60" fill="${c}"/>`).join('');
                return `<svg viewBox="0 0 100 100">${swatches}</svg>`;
            }

            createTextLogo(text, color, style) {
                const fontStyle = style === 'italic' ? 'italic' : 'normal';
                const fontWeight = style === 'bold' ? '700' : '400';
                const fontSize = style === 'monogram' ? '40' : '16';
                const textContent = style === 'monogram' ? text.charAt(0).toUpperCase() : text;
                return `<svg viewBox="0 0 100 100"><text x="50" y="55" text-anchor="middle" font-size="${fontSize}" font-weight="${fontWeight}" font-style="${fontStyle}" fill="${color}" font-family="Arial">${textContent}</text></svg>`;
            }

            createStrategyChart(type) {
                if (type === 'pyramid') {
                    return `<svg viewBox="0 0 100 100"><polygon points="50,10 90,90 10,90" fill="none" stroke="#ff66c4" stroke-width="2"/><line x1="30" y1="50" x2="70" y2="50" stroke="#ff66c4" stroke-width="1"/><line x1="20" y1="70" x2="80" y2="70" stroke="#ff66c4" stroke-width="1"/></svg>`;
                }
                return `<svg viewBox="0 0 100 100"><rect x="15" y="15" width="30" height="30" fill="none" stroke="#ff66c4" stroke-width="2"/><rect x="55" y="15" width="30" height="30" fill="none" stroke="#ff66c4" stroke-width="2"/><rect x="15" y="55" width="30" height="30" fill="none" stroke="#ff66c4" stroke-width="2"/><rect x="55" y="55" width="30" height="30" fill="none" stroke="#ff66c4" stroke-width="2"/></svg>`;
            }

            createContentIcon(type) {
                if (type === 'article') return `<svg viewBox="0 0 100 100"><rect x="15" y="15" width="70" height="70" fill="none" stroke="#ff66c4" stroke-width="2" rx="3"/><line x1="25" y1="30" x2="75" y2="30" stroke="#ff66c4" stroke-width="1.5"/><line x1="25" y1="42" x2="75" y2="42" stroke="#ff66c4" stroke-width="1"/><line x1="25" y1="52" x2="75" y2="52" stroke="#ff66c4" stroke-width="1"/><line x1="25" y1="62" x2="50" y2="62" stroke="#ff66c4" stroke-width="1"/></svg>`;
                if (type === 'social') return `<svg viewBox="0 0 100 100"><rect x="20" y="20" width="60" height="60" fill="none" stroke="#d946ef" stroke-width="2" rx="5"/><circle cx="35" cy="35" r="4" fill="#d946ef"/><polyline points="20,60 45,35 60,50 80,20" fill="none" stroke="#d946ef" stroke-width="2"/></svg>`;
                return `<svg viewBox="0 0 100 100"><rect x="20" y="30" width="60" height="50" fill="none" stroke="#a78bfa" stroke-width="2" rx="3"/><polygon points="50,50 30,70 70,70" fill="#a78bfa" opacity="0.6"/></svg>`;
            }

            createAbstractShape(shape) {
                if (shape === 'circle') return `<svg viewBox="0 0 100 100"><circle cx="50" cy="50" r="35" fill="none" stroke="#ff66c4" stroke-width="2"/><circle cx="50" cy="50" r="20" fill="#ff66c4" opacity="0.3"/></svg>`;
                if (shape === 'triangle') return `<svg viewBox="0 0 100 100"><polygon points="50,20 80,80 20,80" fill="none" stroke="#d946ef" stroke-width="2"/></svg>`;
                if (shape === 'square') return `<svg viewBox="0 0 100 100"><rect x="20" y="20" width="60" height="60" fill="none" stroke="#a78bfa" stroke-width="2"/></svg>`;
                if (shape === 'wave') return `<svg viewBox="0 0 100 100"><path d="M10,50 Q30,30 50,50 T90,50" fill="none" stroke="#f87171" stroke-width="2"/></svg>`;
                if (shape === 'hexagon') return `<svg viewBox="0 0 100 100"><polygon points="50,15 85,35 85,65 50,85 15,65 15,35" fill="none" stroke="#60a5fa" stroke-width="2"/></svg>`;
                return `<svg viewBox="0 0 100 100"><polygon points="50,10 61,40 92,40 67,60 78,90 50,70 22,90 33,60 8,40 39,40" fill="none" stroke="#fb923c" stroke-width="2"/></svg>`;
            }

            toggleVoiceRecording() {
                if (this.isRecording) {
                    this.stopRecording();
                } else {
                    this.startRecording();
                }
            }

            async startRecording() {
                try {
                    const stream = await navigator.mediaDevices.getUserMedia({ audio: true });
                    this.mediaRecorder = new MediaRecorder(stream);
                    this.audioChunks = [];
                    this.isRecording = true;
                    this.recordingStartTime = Date.now();

                    const voiceBtn = document.getElementById('voiceRecordBtn');
                    const indicator = document.getElementById('recordingIndicator');
                    const recordingTime = document.getElementById('recordingTime');

                    voiceBtn.classList.add('recording');
                    indicator.style.display = 'flex';

                    this.mediaRecorder.ondataavailable = (event) => {
                        this.audioChunks.push(event.data);
                    };

                    this.recordingInterval = setInterval(() => {
                        const elapsed = Math.floor((Date.now() - this.recordingStartTime) / 1000);
                        const mins = Math.floor(elapsed / 60);
                        const secs = elapsed % 60;
                        recordingTime.textContent = `${mins}:${secs.toString().padStart(2, '0')}`;
                    }, 100);

                    this.mediaRecorder.start();
                } catch (error) {
                    console.error('Microphone access denied:', error);
                    this.showToast('Microphone access denied');
                }
            }

            stopRecording() {
                if (!this.mediaRecorder) return;

                this.mediaRecorder.onstop = () => {
                    const audioBlob = new Blob(this.audioChunks, { type: 'audio/wav' });
                    this.processAudioRecording(audioBlob);
                };

                this.mediaRecorder.stop();
                this.mediaRecorder.stream.getTracks().forEach(track => track.stop());

                clearInterval(this.recordingInterval);
                this.isRecording = false;

                const voiceBtn = document.getElementById('voiceRecordBtn');
                const indicator = document.getElementById('recordingIndicator');

                voiceBtn.classList.remove('recording');
                indicator.style.display = 'none';
            }

            processAudioRecording(audioBlob) {
                // Convert audio to text (simulate with placeholder message)
                const recordingDuration = Math.floor((Date.now() - this.recordingStartTime) / 1000);
                const voiceMessage = `[Voice recorded - ${recordingDuration}s] Please transcribe this audio for branding insights`;
                
                const input = document.getElementById('chatInput');
                input.value = voiceMessage;
                this.showToast('Voice recorded successfully! Ready to send.');
                
                // Optional: Auto-send after recording
                // this.sendMessage();
            }

            addMessage(text, sender) {
                const messages = document.getElementById('chatMessages');
                const messageDiv = document.createElement('div');
                messageDiv.className = `message ${sender}`;
                
                messageDiv.innerHTML = `
                    <div class="message-avatar">
                        <i class="fas ${sender === 'user' ? 'fa-user' : 'fa-robot'}"></i>
                    </div>
                    <div class="message-content">
                        <div class="message-user">${sender === 'user' ? 'You' : 'BrandArc AI'}</div>
                        <div class="message-text">${this.formatMessage(text)}</div>
                    </div>
                `;
                
                messages.appendChild(messageDiv);
                this.scrollChatToBottom();
                
                // Store in history
                this.chatHistory.push({ sender, text });
            }

            showMoreResponsesButton() {
                const holderId = 'moreResponsesHolder';
                let holder = document.getElementById(holderId);
                if (!holder) {
                    holder = document.createElement('div');
                    holder.id = holderId;
                    holder.style.display = 'flex';
                    holder.style.justifyContent = 'center';
                    holder.style.margin = '8px 0 18px 0';
                    const chatMain = document.querySelector('.chat-main');
                    if (chatMain) chatMain.insertBefore(holder, chatMain.querySelector('.chat-input-container'));
                }
                holder.innerHTML = '';
                const btn = document.createElement('button');
                btn.id = 'moreResponsesBtn';
                btn.className = 'btn btn-outline';
                btn.textContent = `More (${this.pendingAIResponses.length})`;
                btn.style.padding = '8px 12px';
                btn.addEventListener('click', async () => {
                    if (!this.pendingAIResponses || this.pendingAIResponses.length === 0) return;
                    const next = this.pendingAIResponses.shift();
                    this.addMessage(this.addTimeContext(next), 'ai');
                    // update or hide
                    if (this.pendingAIResponses.length === 0) {
                        this.hideMoreResponsesButton();
                    } else {
                        btn.textContent = `More (${this.pendingAIResponses.length})`;
                    }
                    await this.delay(150);
                });
                holder.appendChild(btn);
            }

            hideMoreResponsesButton() {
                const holder = document.getElementById('moreResponsesHolder');
                if (holder) holder.remove();
            }

            getAIResponse(message) {
                const lower = (message || '').toLowerCase();

                // Helper to build short checklist
                const checklist = (items) => items.map((it, idx) => `${idx+1}) ${it}`).join(' ');

                // Branding name / naming variations
                if (lower.includes('brand name') || lower.includes('name') || lower.includes('naming')) {
                    return [
                        `Quick tip: Focus on memorability, relevance, and domain availability. Keep it short and pronounceable.`,
                        `How-to checklist: ${checklist(['Target audience', 'Positioning', 'Distinctiveness', 'Domain & trademarks', 'Easy pronunciation'])}`,
                        `Try this: run our Brand Name Generator (Tools → Brand) and provide keywords or tone to get tailored suggestions.`
                    ];
                }

                // Logo / design
                if (lower.includes('logo') || lower.includes('design')) {
                    return [
                        `Short answer: A good logo is simple, versatile, and aligned with your brand personality.`,
                        `Ideas: try a monogram, abstract mark, or wordmark depending on your brand tone; test in one color and as an icon.`,
                        `Next step: Use the Logo Generator to preview shapes, colors, and concepts that match your brief.`
                    ];
                }

                // Colors / palette
                if (lower.includes('color') || lower.includes('palette') || lower.includes('colors')) {
                    return [
                        `Quick rule: Pick a dominant color that reflects your personality, then add a neutral and an accent color.`,
                        `Checklist: ${checklist(['Brand personality mapping','Contrast for accessibility','Test on light/dark','Create semantic variables'])}`,
                        `Tool tip: Try Design System → Palette generator to get complementary palettes and contrast ratios.`
                    ];
                }

                // Content / copywriting
                if (lower.includes('content') || lower.includes('copy') || lower.includes('writing')) {
                    return [
                        `Short guidance: Always lead with benefits, not features. Make the first sentence count.`,
                        `Formats: For social keep it punchy, for emails lead with CTA, for articles use headings and examples.`,
                        `Try the Content Creator: pick tone and length to generate variants you can A/B test.`
                    ];
                }

                // Strategy
                if (lower.includes('strategy') || lower.includes('positioning') || lower.includes('audience')) {
                    return [
                        `Start: Define your primary audience and the core problem you solve.`,
                        `Framework: Value proposition → Messaging pillars → Channels → Measurement`,
                        `If you want, tell me your audience and I'll suggest 3 positioning statements.`
                    ];
                }

                // Default: give a few routes depending on the user message
                return [
                    `I can help with brand names, logos, content, color palettes, or strategy. Which one would you like to start with?`,
                    `Tip: Mention your industry, tone, and a couple keywords for more tailored suggestions.`,
                    `Example: "Help me name a fintech startup that's modern and trustworthy" — try asking similarly.`
                ];
            }

            addTimeContext(response) {
                const timeLimitMap = {
                    'urgent': ' (Quick answer - 30 seconds mode)',
                    'fast': ' (Fast response - 1 minute)',
                    'normal': ' (Standard response - 2 minutes)',
                    'detailed': ' (Detailed answer - 3 minutes)',
                    'comprehensive': ' (Comprehensive - 5 minutes)',
                    'expert': ' (Expert analysis - 10 minutes)'
                };
                
                return response + timeLimitMap[this.selectedTimeLimit] || response;
            }

            formatMessage(text) {
                return text.replace(/\n/g, '<br>');
            }

            showTyping() {
                const messages = document.getElementById('chatMessages');
                const typingDiv = document.createElement('div');
                typingDiv.id = 'typingIndicator';
                typingDiv.className = 'message ai';
                typingDiv.innerHTML = `
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <div class="message-text" style="padding: 8px;">
                            <div class="typing-dots">
                                <span></span>
                                <span></span>
                                <span></span>
                            </div>
                        </div>
                    </div>
                `;
                messages.appendChild(typingDiv);
                this.scrollChatToBottom();
            }

            hideTyping() {
                const typing = document.getElementById('typingIndicator');
                if (typing) typing.remove();
            }

            scrollChatToBottom() {
                const messages = document.getElementById('chatMessages');
                messages.scrollTop = messages.scrollHeight;
            }

            showDemo() {
                this.showToast('Demo mode activated. Try generating brand names!', 'info');
                
                // Auto-fill and generate brand names
                document.getElementById('industry').value = 'Technology';
                document.getElementById('keywords').value = 'AI, Future, Smart';
                document.getElementById('tone').value = 'Modern';
                
                setTimeout(() => {
                    this.showTool('brand');
                    setTimeout(() => {
                        this.generateBrandNames();
                    }, 500);
                }, 1000);
            }

            showLoading() {
                document.getElementById('loading').classList.add('active');
            }

            hideLoading() {
                document.getElementById('loading').classList.remove('active');
            }

            showToast(message, type = 'success') {
                const toast = document.getElementById('toast');
                const icon = toast.querySelector('i');
                const messageSpan = document.getElementById('toastMessage');
                
                // Set message
                messageSpan.textContent = message;
                
                // Set icon and color based on type
                if (type === 'error') {
                    icon.className = 'fas fa-exclamation-circle';
                    toast.style.background = 'var(--error)';
                } else if (type === 'warning') {
                    icon.className = 'fas fa-exclamation-triangle';
                    toast.style.background = 'var(--warning)';
                } else if (type === 'info') {
                    icon.className = 'fas fa-info-circle';
                    toast.style.background = 'var(--accent)';
                } else {
                    icon.className = 'fas fa-check-circle';
                    toast.style.background = 'var(--success)';
                }
                
                // Show toast
                toast.classList.add('show');
                
                // Auto-hide after 3 seconds
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            }

            copyToClipboard(text) {
                navigator.clipboard.writeText(text.replace(/\\n/g, '\n'))
                    .then(() => this.showToast('Copied to clipboard!'))
                    .catch(err => {
                        console.error('Copy failed:', err);
                        this.showToast('Copy failed', 'error');
                    });
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            setupMockData() {
                // Initialize with some mock data in results
                const mockNames = this.generateMockBrandNames('Technology', 'AI, Future', 'Modern');
                this.displayBrandNames(mockNames.slice(0, 1));
            }
        }

        // Initialize the application
        const app = new BrandArcApp();
        window.app = app;

        // Add some CSS for typing dots
        const style = document.createElement('style');
        style.textContent = `
            .typing-dots {
                display: flex;
                gap: 4px;
                padding: 10px;
            }
            .typing-dots span {
                width: 8px;
                height: 8px;
                background: var(--text-secondary);
                border-radius: 50%;
                animation: typing 1.4s infinite ease-in-out;
            }
            .typing-dots span:nth-child(1) { animation-delay: -0.32s; }
            .typing-dots span:nth-child(2) { animation-delay: -0.16s; }
            @keyframes typing {
                0%, 80%, 100% { transform: scale(0.6); opacity: 0.5; }
                40% { transform: scale(1); opacity: 1; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>